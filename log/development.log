  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mSQL (2.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Rails::InfoController#properties (for 127.0.0.1 at 2011-10-27 11:31:32) [GET]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
Completed in 42ms (View: 7, DB: 1) | 200 OK [http://localhost/rails/info/properties]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 11:35:18) [GET]
Rendering drug/index
Completed in 9ms (View: 7, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 11:37:29) [GET]

NoMethodError (undefined method `menu' for #<DrugController:0xb6e7f5fc>):
  app/controllers/drug_controller.rb:4:in `index'
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (38.5ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 11:37:41) [GET]
Rendering template within layouts/menu
Rendering drug/index

ActionView::TemplateError (uninitialized constant ActionView::Base::CompiledTemplates::User) on line #8 of app/views/layouts/menu.rhtml:
5:     <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
6:     <%= @title = "#{controller.controller_name.humanize} #{controller.action_name.humanize}" rescue ""  %>
7:     <script language="javascript">
8:       tstUsername = "<%= User.current_user.username unless User.current_user.nil? %>";
9:       tstCurrentDate = "<%= Time.now.strftime("%Y/%m/%d") %>";
10:       var tt_cancel_destination = null;
11:       

    app/views/layouts/menu.rhtml:8:in `_run_rhtml_app47views47layouts47menu46rhtml'
    app/controllers/drug_controller.rb:4:in `index'
    /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
    /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
    /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
    /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
    /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
    /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
    /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
    /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
    /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
    /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (93.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 11:37:59) [GET]
Rendering template within layouts/menu
Rendering drug/index

ActionView::TemplateError (uninitialized constant ActionView::Base::CompiledTemplates::User) on line #8 of app/views/layouts/menu.rhtml:
5:     <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
6:     <%= @title = "#{controller.controller_name.humanize} #{controller.action_name.humanize}" rescue ""  %>
7:     <script language="javascript">
8:       tstUsername = "<%= User.current_user.username unless User.current_user.nil? %>";
9:       tstCurrentDate = "<%= Time.now.strftime("%Y/%m/%d") %>";
10:       var tt_cancel_destination = null;
11:       

    app/views/layouts/menu.rhtml:8:in `_run_rhtml_app47views47layouts47menu46rhtml'
    app/controllers/drug_controller.rb:4:in `index'
    /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
    /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
    /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
    /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
    /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
    /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
    /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
    /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
    /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
    /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (41.1ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 11:38:52) [GET]
Rendering template within layouts/menu
Rendering drug/index

ActionView::TemplateError (uninitialized constant ActionView::Base::CompiledTemplates::User) on line #8 of app/views/layouts/menu.rhtml:
5:     <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
6:     <%= @title = "#{controller.controller_name.humanize} #{controller.action_name.humanize}" rescue ""  %>
7:     <script language="javascript">
8:       tstUsername = "<%= User.current_user.username unless User.current_user.nil? %>";
9:       tstCurrentDate = "<%= Time.now.strftime("%Y/%m/%d") %>";
10:       var tt_cancel_destination = null;      
11: 

    app/views/layouts/menu.rhtml:8:in `_run_rhtml_app47views47layouts47menu46rhtml'
    app/controllers/drug_controller.rb:4:in `index'
    /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
    /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
    /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
    /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
    /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
    /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
    /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
    /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
    /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
    /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (95.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 11:39:27) [GET]
Rendering template within layouts/menu
Rendering drug/index

ActionView::TemplateError (undefined local variable or method `fancy_or_high_contrast_touch' for #<ActionView::Base:0xb6e626f0>) on line #14 of app/views/layouts/menu.rhtml:
11: 
12:     </script>
13:     <%= stylesheet_link_tag "mateme" %>
14:     <%= stylesheet_link_tag fancy_or_high_contrast_touch %>
15:     <%= javascript_include_tag "preload" %>
16:   </head>
17:   <body id="mateme">  

    app/views/layouts/menu.rhtml:14:in `_run_rhtml_app47views47layouts47menu46rhtml'
    app/controllers/drug_controller.rb:4:in `index'
    /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
    /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
    /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
    /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
    /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
    /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
    /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
    /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
    /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
    /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (40.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 11:40:51) [GET]
Rendering template within layouts/menu
Rendering drug/index

ActionView::TemplateError (undefined local variable or method `show_intro_text' for #<ActionView::Base:0xb70fe1fc>) on line #20 of app/views/layouts/menu.rhtml:
17:     <div id="container">
18:       <div id="content">
19:         <div id="description" style="color:#777;position:absolute;margin-top:-70px;">
20:           <% if show_intro_text %>
21:             This demonstration site contains the work of <a href="http://pih.org" style="color:white">Partners In Health</a>
22:             and <a href="http://baobabhealth.org" style="color:white">Baobab Health.</a>
23:             This EMR is built on top of OpenMRS 1.5 and is currently being used in Neno and Ngoni, Malawi.

    app/views/layouts/menu.rhtml:20:in `_run_rhtml_app47views47layouts47menu46rhtml'
    app/controllers/drug_controller.rb:4:in `index'
    /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
    /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
    /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
    /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
    /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
    /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
    /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
    /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
    /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
    /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (95.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 11:41:08) [GET]
Rendering template within layouts/menu
Rendering drug/index
ERROR: compiling _run_rhtml_app47views47layouts47menu46rhtml RAISED compile error
/var/www/pharmacy/app/views/layouts/menu.rhtml:69: syntax error, unexpected kENSURE, expecting $end
Function body:           def _run_rhtml_app47views47layouts47menu46rhtml(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n  \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n<html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"en\" lang=\"en\">\n  <head>\n    <meta http-equiv=\"content-type\" content=\"text/html;charset=UTF-8\" />\n    "




; @output_buffer.concat(( @title = "#{controller.controller_name.humanize} #{controller.action_name.humanize}" rescue ""  ).to_s); @output_buffer.concat "\n    <script language=\"javascript\">\n      tstUsername = \""

; @output_buffer.concat "\";\n      tstCurrentDate = \""
; @output_buffer.concat(( Time.now.strftime("%Y/%m/%d") ).to_s); @output_buffer.concat "\";\n      var tt_cancel_destination = null;      \n\n    </script>\n    <script language=\"javascript\" type=\"text/javascript\" \n        src=\"/touchscreentoolkit/lib/javascripts/touchScreenToolkit.js\" defer=\"true\"></script>\n  </head>\n  <body id=\"mateme\">  \n    <div id=\"container\">\n      <div id=\"content\">\n        <div id=\"description\" style=\"color:#777;position:absolute;margin-top:-70px;\">\n            This demonstration site contains the work of <a href=\"http://pih.org\" style=\"color:white\">Partners In Health</a>\n            and <a href=\"http://baobabhealth.org\" style=\"color:white\">Baobab Health.</a>\n            This EMR is built on top of OpenMRS 1.5 and is currently being used in Neno and Ngoni, Malawi.\n            It is designed for an 800 by 600 pixel touch screen at the point of patient contact. \n            <br/><a href=\"mailto:jeff@baobabhealth.org\" style=\"color:white\">Email</a> with questions.\n            Login using the sample login \"demo\", password \"demo\" and location \"7\".\n          "
















;  end ; @output_buffer.concat "  \n        </div>\n        <div style=\"padding-left: 15px;font-size:1.2em;\">\n          "


;  unless flash[:notice].nil? ; @output_buffer.concat "\n            <p id=\"flash_notice\" style=\"color: green\">"
; @output_buffer.concat(( flash[:notice] ).to_s); @output_buffer.concat "</p>\n          "
;  end ; @output_buffer.concat "\n          "
;  unless flash[:error].nil? ; @output_buffer.concat "\n            <p id=\"flash_error\" style=\"color: red\">"
; @output_buffer.concat(( flash[:error] ).to_s); @output_buffer.concat "</p>\n          "
;  end ; @output_buffer.concat "\n        </div>  \n        "

; @output_buffer.concat(( yield ).to_s); @output_buffer.concat "  \n        <div id=\"footer\">\n          <div id=\"buttons\" class=\"buttonsDiv\" style=\"top:0px\">\n            <button id=\"finishButton\" class=\"button navButton green\" onclick=\"if (tt_cancel_destination) window.location = tt_cancel_destination;\"><span>Finish</span></button>\n                  "



;  if 'mastercard' == params[:action].to_s ; @output_buffer.concat "\n                    "
;  if session[:mastercard_ids].length.to_i != 0 ; @output_buffer.concat "\n                        <script>\n                                tt_cancel_destination = \"/clinic/reports\";\n                        </script>\n                      "



; if @show_mastercard_counter == true ; @output_buffer.concat "\n                        <div id=\"navigator\" style=\"position:relative; height:70px;width : 65%\">\n                            <button id=\"back\" class=\""

; @output_buffer.concat((@prev_button_class).to_s); @output_buffer.concat "\" style=\"position:relative; float:left;\" onclick=\"prev()\"><span>Previous</span></button>\n                            <span style=\"position:relative;float:left; top:4px; padding : 0px 10px 0 20px\"><h1 id=\"navigation_value\"> ----- </h1></span>\n                            <button id=\"forward\" class=\""

; @output_buffer.concat((@next_button_class).to_s); @output_buffer.concat "\" style=\"position:relative; float:left;\" onclick=\"next()\"><span>Next</span></button>\n                        </div>\n                      "

; end; @output_buffer.concat "\n                  "
; end; @output_buffer.concat "\n                 "
; end; @output_buffer.concat "\n           </div>\n            <div id=\"tt_extraButtons\"/>\n          </div>\n          \n        </div>    \n      </div>  \n    </div>\n    <script>\n      try {\n        document.getElementById('navigation_value').innerHTML = current + \" of \" + total;\n      } catch(e) { }\n    </script>\n  </body>\n</html>\n"














; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /var/www/pharmacy/app/views/layouts/menu.rhtml:69:in `compile!'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:352:in `_render_with_layout'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:262:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:987:in `render_without_benchmark'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/var/www/pharmacy/app/controllers/drug_controller.rb:4:in `index'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1331:in `send'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `process'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/session/cookie_store.rb:93:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
/var/lib/gems/1.8/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/var/lib/gems/1.8/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
/usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
/usr/lib/ruby/1.8/mongrel.rb:158:in `each'
/usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
/usr/lib/ruby/1.8/mongrel.rb:285:in `run'
/usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
/usr/lib/ruby/1.8/mongrel.rb:285:in `new'
/usr/lib/ruby/1.8/mongrel.rb:285:in `run'
/usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
/usr/lib/ruby/1.8/mongrel.rb:268:in `new'
/usr/lib/ruby/1.8/mongrel.rb:268:in `run'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
/var/lib/gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:111
/usr/lib/ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/lib/ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/var/www/pharmacy/app/views/layouts/menu.rhtml:69: syntax error, unexpected kENSURE, expecting $end) on line #69 of app/views/layouts/menu.rhtml:
66:   </body>
67: </html>

    app/views/layouts/menu.rhtml:69:in `compile!'
    app/controllers/drug_controller.rb:4:in `index'
    /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
    /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
    /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
    /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
    /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
    /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
    /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
    /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
    /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
    /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (43.3ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 11:42:22) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 9ms (View: 8, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 11:43:53) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 5ms (View: 2, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 11:45:47) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 8ms (View: 5, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 11:46:00) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 7ms (View: 6, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 11:47:18) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 8ms (View: 6, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 11:47:42) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 8ms (View: 6, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 11:52:36) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 11:54:11) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 7ms (View: 5, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 11:54:57) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 11:57:02) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 11:57:17) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 7ms (View: 6, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 11:59:30) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 6ms (View: 3, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 12:00:02) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 8ms (View: 6, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 12:00:19) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 7ms (View: 5, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 12:00:29) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 10ms (View: 8, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 12:00:46) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 63ms (View: 9, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 12:53:12) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 9ms (View: 7, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 12:53:33) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 8ms (View: 6, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 12:53:41) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 7ms (View: 5, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 12:53:56) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 8ms (View: 6, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 12:55:51) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 7ms (View: 5, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 12:56:09) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 7ms (View: 6, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 12:56:39) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 13ms (View: 6, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 12:58:01) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 8ms (View: 6, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 12:58:29) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 8ms (View: 7, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 12:59:08) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 7ms (View: 6, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 12:59:26) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 8ms (View: 6, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 12:59:34) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 7ms (View: 5, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 12:59:40) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 56ms (View: 55, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 12:59:46) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 16ms (View: 15, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 12:59:52) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 8ms (View: 6, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 12:59:59) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 7ms (View: 6, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 13:00:30) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 13:00:47) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 7ms (View: 5, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 13:01:08) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 7ms (View: 5, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 13:04:12) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 7ms (View: 5, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 13:05:06) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 10ms (View: 8, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 13:05:33) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 13ms (View: 11, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 13:05:51) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 9ms (View: 7, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 13:06:14) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 7ms (View: 5, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 13:08:12) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 7ms (View: 6, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 13:09:14) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 60ms (View: 59, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 13:09:48) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 8ms (View: 6, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 13:09:55) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 8ms (View: 7, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 13:10:22) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 8ms (View: 6, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 13:10:56) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 8ms (View: 6, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 13:13:25) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 8ms (View: 6, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 13:13:35) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 9ms (View: 7, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 13:13:45) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 9ms (View: 7, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 13:14:32) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 8ms (View: 7, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 13:14:40) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 8ms (View: 7, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 13:14:50) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 8ms (View: 6, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 13:14:52) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 3ms (View: 1, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 13:15:48) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 8ms (View: 6, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 13:16:05) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 8ms (View: 7, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 13:17:17) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 9ms (View: 7, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 13:17:27) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 16ms (View: 7, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 13:18:02) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 9ms (View: 7, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 13:18:12) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 9ms (View: 7, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 13:18:21) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 8ms (View: 6, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 13:18:34) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 9ms (View: 7, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 13:18:46) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 17ms (View: 11, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 13:18:55) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 9ms (View: 7, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 13:19:26) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 20ms (View: 19, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 13:19:38) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 8ms (View: 6, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 13:19:52) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 8ms (View: 6, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 13:20:28) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 9ms (View: 7, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 13:20:36) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 10ms (View: 8, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 13:20:44) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 13ms (View: 11, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 13:20:51) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 13ms (View: 10, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 13:21:00) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 9ms (View: 7, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 13:21:33) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 8ms (View: 7, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 13:21:51) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 9ms (View: 7, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 13:22:16) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 12ms (View: 7, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 13:22:45) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 13ms (View: 7, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 13:24:33) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 8ms (View: 6, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 13:24:42) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 20ms (View: 14, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 13:24:53) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 8ms (View: 7, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 13:25:32) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 9ms (View: 7, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 13:27:53) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 9ms (View: 7, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 13:29:44) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 17ms (View: 16, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#delivery (for 127.0.0.1 at 2011-10-27 13:29:46) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (3.7ms)[0m   [0mSELECT * FROM `drug` WHERE (drug.retired = 0) [0m
Rendering template within layouts/application
Rendering drug/delivery

ActionView::TemplateError (undefined method `touch_date_tag' for #<ActionView::Base:0xb6d6cea8>) on line #8 of app/views/drug/delivery.html.erb:
5: 
6: <%= text_field_tag "drug_name", nil, {:id => 'drug_name', :field_type => 'alpha', :helpText => 'DRUG NAME', :ajaxURL =>  '/drug/name?search_string=', :condition => '', :tt_onLoad  => '' } %>
7: 
8: <%= touch_date_tag "delivery_date", 'delivery_date', nil,
9:     {:id => "delivery_date",
10:      :helpText => "DELIVERY DATE",
11:      :absoluteMax => Date.today} %>

    app/views/drug/delivery.html.erb:8
    /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
    /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
    /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
    /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
    /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
    /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
    /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
    /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
    /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
    /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (118.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 13:32:09) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 3ms (View: 1, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#delivery (for 127.0.0.1 at 2011-10-27 13:32:11) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.7ms)[0m   [0mSELECT * FROM `drug` WHERE (drug.retired = 0) [0m
Rendering template within layouts/application
Rendering drug/delivery

ActionView::TemplateError (uninitialized constant ActionView::Base::CompiledTemplates::User) on line #10 of app/views/layouts/application.rhtml:
7:     <script type="text/javascript" language="javascript" 
8:     src="/touchscreentoolkit/lib/javascripts/touchScreenToolkit.js" defer="true"></script>
9:     <script language="javascript">
10:       tstUsername = "<%= User.current_user.username unless User.current_user.nil? %>";
11:       tstCurrentDate = "<%= Time.now.strftime("%Y/%m/%d") %>";
12:     </script>
13:     <%#= javascript_include_tag "dateselector" %>

    app/views/layouts/application.rhtml:10:in `_run_rhtml_app47views47layouts47application46rhtml'
    /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
    /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
    /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
    /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
    /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
    /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
    /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
    /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
    /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
    /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (93.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#delivery (for 127.0.0.1 at 2011-10-27 13:32:54) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (1.6ms)[0m   [0mSELECT * FROM `drug` WHERE (drug.retired = 0) [0m
Rendering template within layouts/application
Rendering drug/delivery
Completed in 57ms (View: 21, DB: 0) | 200 OK [http://localhost/drug/delivery]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#name (for 127.0.0.1 at 2011-10-27 13:32:55) [GET]
  Parameters: {"search_string"=>""}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (3.7ms)[0m   [0mSELECT * FROM `drug` WHERE (name LIKE '%%') AND (drug.retired = 0) [0m
Completed in 132ms (View: 1, DB: 0) | 200 OK [http://localhost/drug/name?search_string=]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#create_stock (for 127.0.0.1 at 2011-10-27 13:33:20) [POST]
  Parameters: {"drug_name"=>"Flucloxacillin (125mg/5ml suspension)", "number_of_tins"=>"36", "number_of_pills_per_tin"=>"10", "observations"=>[{"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"-614522798", "value_drug"=>"", "concept_name"=>"delivery_date", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"2011-10-27T13:32:54+02:00", "value_numeric"=>"", "value_coded_or_text"=>""}, {"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"-611848298", "value_drug"=>"", "concept_name"=>"expiry_date", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"2011-10-27T13:32:54+02:00", "value_numeric"=>"", "value_coded_or_text"=>""}]}

ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (39.1ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (unprocessable_entity)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-10-27 13:37:04) [GET]

ActionController::RoutingError (No route matches "/clinic" with {:method=>:get}):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (4.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#name (for 127.0.0.1 at 2011-10-27 13:37:18) [GET]
  Parameters: {"search_string"=>""}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.7ms)[0m   [0mSELECT * FROM `drug` WHERE (name LIKE '%%') AND (drug.retired = 0) [0m
Completed in 37ms (View: 4, DB: 4) | 200 OK [http://localhost/drug/name?search_string=]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#name (for 127.0.0.1 at 2011-10-27 13:37:19) [GET]
  Parameters: {"search_string"=>""}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.7ms)[0m   [0mSELECT * FROM `drug` WHERE (name LIKE '%%') AND (drug.retired = 0) [0m
Completed in 33ms (View: 1, DB: 0) | 200 OK [http://localhost/drug/name?search_string=]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#create_stock (for 127.0.0.1 at 2011-10-27 13:37:34) [POST]
  Parameters: {"drug_name"=>"DDI (Didanosine 125mg tablet)", "number_of_tins"=>"26", "number_of_pills_per_tin"=>"10", "observations"=>[{"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"", "value_drug"=>"", "concept_name"=>"", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"", "value_numeric"=>"", "value_coded_or_text"=>""}, {"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"", "value_drug"=>"", "concept_name"=>"", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"", "value_numeric"=>"", "value_coded_or_text"=>""}]}

ActiveRecord::StatementInvalid (Mysql::Error: Table 'pharmacy_development.sessions' doesn't exist: SHOW FIELDS FROM `sessions`):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (45.9ms)
Rendered rescues/_request_and_response (1.9ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#create_stock (for 127.0.0.1 at 2011-10-27 13:38:24) [POST]
  Parameters: {"drug_name"=>"DDI (Didanosine 125mg tablet)", "number_of_tins"=>"26", "number_of_pills_per_tin"=>"10", "observations"=>[{"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"", "value_drug"=>"", "concept_name"=>"", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"", "value_numeric"=>"", "value_coded_or_text"=>""}, {"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"", "value_drug"=>"", "concept_name"=>"", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"", "value_numeric"=>"", "value_coded_or_text"=>""}]}

ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (36.6ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (unprocessable_entity)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#delivery (for 127.0.0.1 at 2011-10-27 13:38:33) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.9ms)[0m   [0mSELECT * FROM `drug` WHERE (drug.retired = 0) [0m
Rendering template within layouts/application
Rendering drug/delivery
Completed in 56ms (View: 25, DB: 1) | 200 OK [http://localhost/drug/delivery]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#name (for 127.0.0.1 at 2011-10-27 13:38:33) [GET]
  Parameters: {"search_string"=>"DDI (Didanosine 125mg tablet)"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (1.7ms)[0m   [0mSELECT * FROM `drug` WHERE (name LIKE '%DDI (Didanosine 125mg tablet)%') AND (drug.retired = 0) [0m
Completed in 25ms (View: 1, DB: 0) | 200 OK [http://localhost/drug/name?search_string=DDI%20(Didanosine%20125mg%20tablet)]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#delivery (for 127.0.0.1 at 2011-10-27 13:38:48) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.6ms)[0m   [0mSELECT * FROM `drug` WHERE (drug.retired = 0) [0m
Rendering template within layouts/application
Rendering drug/delivery
Completed in 70ms (View: 40, DB: 1) | 200 OK [http://localhost/drug/delivery]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#name (for 127.0.0.1 at 2011-10-27 13:38:49) [GET]
  Parameters: {"search_string"=>"DDI (Didanosine 125mg tablet)"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.3ms)[0m   [0mSELECT * FROM `drug` WHERE (name LIKE '%DDI (Didanosine 125mg tablet)%') AND (drug.retired = 0) [0m
Completed in 31ms (View: 1, DB: 0) | 200 OK [http://localhost/drug/name?search_string=DDI%20(Didanosine%20125mg%20tablet)]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#create_stock (for 127.0.0.1 at 2011-10-27 13:38:53) [POST]
  Parameters: {"drug_name"=>"DDI (Didanosine 125mg tablet)", "number_of_tins"=>"26", "number_of_pills_per_tin"=>"10", "observations"=>[{"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"", "value_drug"=>"", "concept_name"=>"", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"", "value_numeric"=>"", "value_coded_or_text"=>""}, {"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"", "value_drug"=>"", "concept_name"=>"", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"", "value_numeric"=>"", "value_coded_or_text"=>""}]}

ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (83.6ms)
Rendered rescues/_request_and_response (1.8ms)
Rendering rescues/layout (unprocessable_entity)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#create_stock (for 127.0.0.1 at 2011-10-27 13:42:55) [POST]
  Parameters: {"drug_name"=>"DDI (Didanosine 125mg tablet)", "number_of_tins"=>"26", "number_of_pills_per_tin"=>"10", "observations"=>[{"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"", "value_drug"=>"", "concept_name"=>"", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"", "value_numeric"=>"", "value_coded_or_text"=>""}, {"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"", "value_drug"=>"", "concept_name"=>"", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"", "value_numeric"=>"", "value_coded_or_text"=>""}]}

ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (43.1ms)
Rendered rescues/_request_and_response (1.8ms)
Rendering rescues/layout (unprocessable_entity)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-10-27 13:43:08) [GET]

ActionController::RoutingError (No route matches "/clinic" with {:method=>:get}):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 13:43:13) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 18ms (View: 17, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#delivery (for 127.0.0.1 at 2011-10-27 13:43:43) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.6ms)[0m   [0mSELECT * FROM `drug` WHERE (drug.retired = 0) [0m
Rendering template within layouts/application
Rendering drug/delivery
Completed in 74ms (View: 40, DB: 1) | 200 OK [http://localhost/drug/delivery]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#name (for 127.0.0.1 at 2011-10-27 13:43:43) [GET]
  Parameters: {"search_string"=>""}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.6ms)[0m   [0mSELECT * FROM `drug` WHERE (name LIKE '%%') AND (drug.retired = 0) [0m
Completed in 29ms (View: 1, DB: 0) | 200 OK [http://localhost/drug/name?search_string=]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#create_stock (for 127.0.0.1 at 2011-10-27 13:44:01) [POST]
  Parameters: {"drug_name"=>"Triomune-40", "number_of_tins"=>"100", "number_of_pills_per_tin"=>"100", "observations"=>[{"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"-613004268", "value_drug"=>"", "concept_name"=>"delivery_date", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"2011-10-27T13:43:43+02:00", "value_numeric"=>"", "value_coded_or_text"=>""}, {"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"-613106738", "value_drug"=>"", "concept_name"=>"expiry_date", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"2011-10-27T13:43:43+02:00", "value_numeric"=>"", "value_coded_or_text"=>""}]}

ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (38.2ms)
Rendered rescues/_request_and_response (15.9ms)
Rendering rescues/layout (unprocessable_entity)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#delivery (for 127.0.0.1 at 2011-10-27 13:47:42) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.5ms)[0m   [0mSELECT * FROM `drug` WHERE (drug.retired = 0) [0m
Rendering template within layouts/application
Rendering drug/delivery
Completed in 140ms (View: 103, DB: 1) | 200 OK [http://localhost/drug/delivery]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#name (for 127.0.0.1 at 2011-10-27 13:47:42) [GET]
  Parameters: {"search_string"=>"Triomune-40"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (1.8ms)[0m   [0mSELECT * FROM `drug` WHERE (name LIKE '%Triomune-40%') AND (drug.retired = 0) [0m
Completed in 29ms (View: 1, DB: 0) | 200 OK [http://localhost/drug/name?search_string=Triomune-40]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#create_stock (for 127.0.0.1 at 2011-10-27 13:47:47) [POST]
  Parameters: {"drug_name"=>"Triomune-40", "number_of_tins"=>"100", "number_of_pills_per_tin"=>"100", "observations"=>[{"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"-612958568", "value_drug"=>"", "concept_name"=>"delivery_date", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"2011-10-27T13:47:42+02:00", "value_numeric"=>"", "value_coded_or_text"=>""}, {"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"-613054888", "value_drug"=>"", "concept_name"=>"expiry_date", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"2011-10-27T13:47:42+02:00", "value_numeric"=>"", "value_coded_or_text"=>""}]}

ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (36.0ms)
Rendered rescues/_request_and_response (2.0ms)
Rendering rescues/layout (unprocessable_entity)
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#delivery (for 127.0.0.1 at 2011-10-27 13:50:05) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.6ms)[0m   [0mSELECT * FROM `drug` WHERE (drug.retired = 0) [0m
Rendering template within layouts/application
Rendering drug/delivery
Completed in 44ms (View: 16, DB: 1) | 200 OK [http://localhost/drug/delivery]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#name (for 127.0.0.1 at 2011-10-27 13:50:06) [GET]
  Parameters: {"search_string"=>"Triomune-40"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.2ms)[0m   [0mSELECT * FROM `drug` WHERE (name LIKE '%Triomune-40%') AND (drug.retired = 0) [0m
Completed in 34ms (View: 1, DB: 0) | 200 OK [http://localhost/drug/name?search_string=Triomune-40]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#create_stock (for 127.0.0.1 at 2011-10-27 13:50:10) [POST]
  Parameters: {"drug_name"=>"Triomune-40", "number_of_tins"=>"100", "number_of_pills_per_tin"=>"100", "observations"=>[{"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"-613093808", "value_drug"=>"", "concept_name"=>"delivery_date", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"2011-10-27T13:50:05+02:00", "value_numeric"=>"", "value_coded_or_text"=>""}, {"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"-613175778", "value_drug"=>"", "concept_name"=>"expiry_date", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"2011-10-27T13:50:05+02:00", "value_numeric"=>"", "value_coded_or_text"=>""}]}

ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (89.1ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (unprocessable_entity)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#delivery (for 127.0.0.1 at 2011-10-27 13:50:25) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.8ms)[0m   [0mSELECT * FROM `drug` WHERE (drug.retired = 0) [0m
Rendering template within layouts/application
Rendering drug/delivery
Completed in 79ms (View: 43, DB: 1) | 200 OK [http://localhost/drug/delivery]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#name (for 127.0.0.1 at 2011-10-27 13:50:26) [GET]
  Parameters: {"search_string"=>"Triomune-40"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (6.4ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.2ms)[0m   [0mSELECT * FROM `drug` WHERE (name LIKE '%Triomune-40%') AND (drug.retired = 0) [0m
Completed in 28ms (View: 1, DB: 0) | 200 OK [http://localhost/drug/name?search_string=Triomune-40]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#delivery (for 127.0.0.1 at 2011-10-27 13:50:26) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.5ms)[0m   [0mSELECT * FROM `drug` WHERE (drug.retired = 0) [0m
Rendering template within layouts/application
Rendering drug/delivery
Completed in 43ms (View: 17, DB: 1) | 200 OK [http://localhost/drug/delivery]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#name (for 127.0.0.1 at 2011-10-27 13:50:27) [GET]
  Parameters: {"search_string"=>"Triomune-40"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (5.0ms)[0m   [0mSELECT * FROM `drug` WHERE (name LIKE '%Triomune-40%') AND (drug.retired = 0) [0m
Completed in 37ms (View: 4, DB: 0) | 200 OK [http://localhost/drug/name?search_string=Triomune-40]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#create_stock (for 127.0.0.1 at 2011-10-27 13:50:30) [POST]
  Parameters: {"drug_name"=>"Triomune-40", "number_of_tins"=>"100", "number_of_pills_per_tin"=>"100", "observations"=>[{"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"-611588858", "value_drug"=>"", "concept_name"=>"delivery_date", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"2011-10-27T13:50:26+02:00", "value_numeric"=>"", "value_coded_or_text"=>""}, {"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"-611961488", "value_drug"=>"", "concept_name"=>"expiry_date", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"2011-10-27T13:50:26+02:00", "value_numeric"=>"", "value_coded_or_text"=>""}]}

ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (34.4ms)
Rendered rescues/_request_and_response (1.9ms)
Rendering rescues/layout (unprocessable_entity)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 13:52:09) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 14ms (View: 12, DB: 1) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#delivery (for 127.0.0.1 at 2011-10-27 13:52:42) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.8ms)[0m   [0mSELECT * FROM `drug` WHERE (drug.retired = 0) [0m
Rendering template within layouts/application
Rendering drug/delivery
Completed in 40ms (View: 15, DB: 0) | 200 OK [http://localhost/drug/delivery]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#name (for 127.0.0.1 at 2011-10-27 13:52:42) [GET]
  Parameters: {"search_string"=>""}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.9ms)[0m   [0mSELECT * FROM `drug` WHERE (name LIKE '%%') AND (drug.retired = 0) [0m
Completed in 28ms (View: 1, DB: 0) | 200 OK [http://localhost/drug/name?search_string=]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#create_stock (for 127.0.0.1 at 2011-10-27 13:53:17) [POST]
  Parameters: {"drug_name"=>"d4T (Stavudine 30mg tablet)", "number_of_tins"=>"500", "number_of_pills_per_tin"=>"10", "observations"=>[{"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"-612115338", "value_drug"=>"", "concept_name"=>"delivery_date", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"2011-10-27T13:52:42+02:00", "value_numeric"=>"", "value_coded_or_text"=>""}, {"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"-610719678", "value_drug"=>"", "concept_name"=>"expiry_date", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"2011-10-27T13:52:42+02:00", "value_numeric"=>"", "value_coded_or_text"=>""}]}

ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (33.6ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (unprocessable_entity)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#create_stock (for 127.0.0.1 at 2011-10-27 13:55:09) [POST]
  Parameters: {"drug_name"=>"d4T (Stavudine 30mg tablet)", "number_of_tins"=>"500", "number_of_pills_per_tin"=>"10", "observations"=>[{"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"-612115338", "value_drug"=>"", "concept_name"=>"delivery_date", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"2011-10-27T13:52:42+02:00", "value_numeric"=>"", "value_coded_or_text"=>""}, {"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"-610719678", "value_drug"=>"", "concept_name"=>"expiry_date", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"2011-10-27T13:52:42+02:00", "value_numeric"=>"", "value_coded_or_text"=>""}]}

ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (46.6ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (unprocessable_entity)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#create_stock (for 127.0.0.1 at 2011-10-27 13:55:13) [POST]
  Parameters: {"drug_name"=>"d4T (Stavudine 30mg tablet)", "number_of_tins"=>"500", "number_of_pills_per_tin"=>"10", "observations"=>[{"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"-612115338", "value_drug"=>"", "concept_name"=>"delivery_date", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"2011-10-27T13:52:42+02:00", "value_numeric"=>"", "value_coded_or_text"=>""}, {"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"-610719678", "value_drug"=>"", "concept_name"=>"expiry_date", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"2011-10-27T13:52:42+02:00", "value_numeric"=>"", "value_coded_or_text"=>""}]}

ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (96.5ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (unprocessable_entity)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#create_stock (for 127.0.0.1 at 2011-10-27 13:57:23) [POST]
  Parameters: {"drug_name"=>"d4T (Stavudine 30mg tablet)", "number_of_tins"=>"500", "number_of_pills_per_tin"=>"10", "observations"=>[{"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"-612115338", "value_drug"=>"", "concept_name"=>"delivery_date", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"2011-10-27T13:52:42+02:00", "value_numeric"=>"", "value_coded_or_text"=>""}, {"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"-610719678", "value_drug"=>"", "concept_name"=>"expiry_date", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"2011-10-27T13:52:42+02:00", "value_numeric"=>"", "value_coded_or_text"=>""}]}

ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (36.8ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (unprocessable_entity)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#delivery (for 127.0.0.1 at 2011-10-27 13:57:27) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.7ms)[0m   [0mSELECT * FROM `drug` WHERE (drug.retired = 0) [0m
Rendering template within layouts/application
Rendering drug/delivery
Completed in 42ms (View: 15, DB: 0) | 200 OK [http://localhost/drug/delivery]
  [4;36;1mSQL (0.5ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#name (for 127.0.0.1 at 2011-10-27 13:57:27) [GET]
  Parameters: {"search_string"=>"d4T (Stavudine 30mg tablet)"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (3.9ms)[0m   [0mSELECT * FROM `drug` WHERE (name LIKE '%d4T (Stavudine 30mg tablet)%') AND (drug.retired = 0) [0m
Completed in 39ms (View: 1, DB: 1) | 200 OK [http://localhost/drug/name?search_string=d4T%20(Stavudine%2030mg%20tablet)]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#create_stock (for 127.0.0.1 at 2011-10-27 13:57:31) [POST]
  Parameters: {"drug_name"=>"d4T (Stavudine 30mg tablet)", "number_of_tins"=>"500", "number_of_pills_per_tin"=>"10", "observations"=>[{"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"-614290448", "value_drug"=>"", "concept_name"=>"delivery_date", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"2011-10-27T13:57:27+02:00", "value_numeric"=>"", "value_coded_or_text"=>""}, {"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"-614408758", "value_drug"=>"", "concept_name"=>"expiry_date", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"2011-10-27T13:57:27+02:00", "value_numeric"=>"", "value_coded_or_text"=>""}]}

ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (35.5ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (unprocessable_entity)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#create_stock (for 127.0.0.1 at 2011-10-27 13:57:57) [POST]
  Parameters: {"drug_name"=>"d4T (Stavudine 30mg tablet)", "number_of_tins"=>"500", "number_of_pills_per_tin"=>"10", "observations"=>[{"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"-614290448", "value_drug"=>"", "concept_name"=>"delivery_date", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"2011-10-27T13:57:27+02:00", "value_numeric"=>"", "value_coded_or_text"=>""}, {"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"-614408758", "value_drug"=>"", "concept_name"=>"expiry_date", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"2011-10-27T13:57:27+02:00", "value_numeric"=>"", "value_coded_or_text"=>""}]}

ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (56.3ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (unprocessable_entity)
  [4;36;1mSQL (0.5ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#create_stock (for 127.0.0.1 at 2011-10-27 13:58:15) [POST]
  Parameters: {"drug_name"=>"d4T (Stavudine 30mg tablet)", "number_of_tins"=>"500", "number_of_pills_per_tin"=>"10", "observations"=>[{"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"-614290448", "value_drug"=>"", "concept_name"=>"delivery_date", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"2011-10-27T13:57:27+02:00", "value_numeric"=>"", "value_coded_or_text"=>""}, {"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"-614408758", "value_drug"=>"", "concept_name"=>"expiry_date", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"2011-10-27T13:57:27+02:00", "value_numeric"=>"", "value_coded_or_text"=>""}]}

ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (49.2ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (unprocessable_entity)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#create_stock (for 127.0.0.1 at 2011-10-27 13:58:19) [POST]
  Parameters: {"drug_name"=>"d4T (Stavudine 30mg tablet)", "number_of_tins"=>"500", "number_of_pills_per_tin"=>"10", "observations"=>[{"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"-614290448", "value_drug"=>"", "concept_name"=>"delivery_date", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"2011-10-27T13:57:27+02:00", "value_numeric"=>"", "value_coded_or_text"=>""}, {"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"-614408758", "value_drug"=>"", "concept_name"=>"expiry_date", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"2011-10-27T13:57:27+02:00", "value_numeric"=>"", "value_coded_or_text"=>""}]}

ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (34.8ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (unprocessable_entity)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#delivery (for 127.0.0.1 at 2011-10-27 14:02:59) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.6ms)[0m   [0mSELECT * FROM `drug` WHERE (drug.retired = 0) [0m
Rendering template within layouts/application
Rendering drug/delivery
Completed in 74ms (View: 41, DB: 1) | 200 OK [http://localhost/drug/delivery]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#name (for 127.0.0.1 at 2011-10-27 14:03:00) [GET]
  Parameters: {"search_string"=>"d4T (Stavudine 30mg tablet)"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.1ms)[0m   [0mSELECT * FROM `drug` WHERE (name LIKE '%d4T (Stavudine 30mg tablet)%') AND (drug.retired = 0) [0m
Completed in 24ms (View: 1, DB: 0) | 200 OK [http://localhost/drug/name?search_string=d4T%20(Stavudine%2030mg%20tablet)]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#create_stock (for 127.0.0.1 at 2011-10-27 14:03:05) [POST]
  Parameters: {"drug_name"=>"d4T (Stavudine 30mg tablet)", "number_of_tins"=>"500", "number_of_pills_per_tin"=>"10", "observations"=>[{"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"-613718478", "value_drug"=>"", "concept_name"=>"delivery_date", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"2011-10-27T14:02:59+02:00", "value_numeric"=>"", "value_coded_or_text"=>""}, {"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"-613826738", "value_drug"=>"", "concept_name"=>"expiry_date", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"2011-10-27T14:02:59+02:00", "value_numeric"=>"", "value_coded_or_text"=>""}]}

ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (81.7ms)
Rendered rescues/_request_and_response (1.8ms)
Rendering rescues/layout (unprocessable_entity)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#delivery (for 127.0.0.1 at 2011-10-27 14:05:42) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.7ms)[0m   [0mSELECT * FROM `drug` WHERE (drug.retired = 0) [0m
Rendering template within layouts/application
Rendering drug/delivery
Completed in 56ms (View: 21, DB: 1) | 200 OK [http://localhost/drug/delivery]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#name (for 127.0.0.1 at 2011-10-27 14:05:43) [GET]
  Parameters: {"search_string"=>""}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.7ms)[0m   [0mSELECT * FROM `drug` WHERE (name LIKE '%%') AND (drug.retired = 0) [0m
Completed in 35ms (View: 1, DB: 0) | 200 OK [http://localhost/drug/name?search_string=]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#delivery (for 127.0.0.1 at 2011-10-27 14:05:43) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.6ms)[0m   [0mSELECT * FROM `drug` WHERE (drug.retired = 0) [0m
Rendering template within layouts/application
Rendering drug/delivery
Completed in 92ms (View: 66, DB: 0) | 200 OK [http://localhost/drug/delivery]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#name (for 127.0.0.1 at 2011-10-27 14:05:44) [GET]
  Parameters: {"search_string"=>""}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.6ms)[0m   [0mSELECT * FROM `drug` WHERE (name LIKE '%%') AND (drug.retired = 0) [0m
Completed in 34ms (View: 1, DB: 0) | 200 OK [http://localhost/drug/name?search_string=]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#create_stock (for 127.0.0.1 at 2011-10-27 14:05:58) [POST]
  Parameters: {"drug_name"=>"INH or H (Isoniazid 100mg tablet)", "number_of_tins"=>"100", "authenticity_token"=>"ksGWiCOUimxaV1Ocq/87ZW0fqeJpcvaXcKipzjKcfxo=", "number_of_pills_per_tin"=>"10", "observations"=>[{"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"-611349938", "value_drug"=>"", "concept_name"=>"delivery_date", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"2011-10-27T14:05:44+02:00", "value_numeric"=>"", "value_coded_or_text"=>""}, {"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"-612749988", "value_drug"=>"", "concept_name"=>"expiry_date", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"2011-10-27T14:05:44+02:00", "value_numeric"=>"", "value_coded_or_text"=>""}]}

RuntimeError (--- !map:HashWithIndifferentAccess 
number_of_tins: "100"
drug_name: INH or H (Isoniazid 100mg tablet)
number_of_pills_per_tin: "10"
authenticity_token: ksGWiCOUimxaV1Ocq/87ZW0fqeJpcvaXcKipzjKcfxo=
action: create_stock
controller: drug
observations: 
- !map:HashWithIndifferentAccess 
  value_coded: ""
  value_datetime: "2011-10-27"
  order_id: ""
  obs_group_id: ""
  value_drug: ""
  patient_id: "-611349938"
  value_coded_or_text_multiple: 
  - ""
  value_boolean: ""
  concept_name: delivery_date
  value_modifier: ""
  value_text: ""
  obs_datetime: "2011-10-27T14:05:44+02:00"
  value_numeric: ""
  value_coded_or_text: ""
- !map:HashWithIndifferentAccess 
  value_coded: ""
  value_datetime: "2011-10-27"
  order_id: ""
  obs_group_id: ""
  value_drug: ""
  patient_id: "-612749988"
  value_coded_or_text_multiple: 
  - ""
  value_boolean: ""
  concept_name: expiry_date
  value_modifier: ""
  value_text: ""
  obs_datetime: "2011-10-27T14:05:44+02:00"
  value_numeric: ""
  value_coded_or_text: ""
):
  app/controllers/drug_controller.rb:17:in `create_stock'
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (32.1ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#create_stock (for 127.0.0.1 at 2011-10-27 14:06:26) [POST]
  Parameters: {"drug_name"=>"INH or H (Isoniazid 100mg tablet)", "number_of_tins"=>"100", "authenticity_token"=>"ksGWiCOUimxaV1Ocq/87ZW0fqeJpcvaXcKipzjKcfxo=", "number_of_pills_per_tin"=>"10", "observations"=>[{"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"-611349938", "value_drug"=>"", "concept_name"=>"delivery_date", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"2011-10-27T14:05:44+02:00", "value_numeric"=>"", "value_coded_or_text"=>""}, {"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"-612749988", "value_drug"=>"", "concept_name"=>"expiry_date", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"2011-10-27T14:05:44+02:00", "value_numeric"=>"", "value_coded_or_text"=>""}]}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (1.9ms)[0m   [0mSELECT * FROM `drug` WHERE (`drug`.`name` = 'INH or H (Isoniazid 100mg tablet)') AND (drug.retired = 0) LIMIT 1[0m

RuntimeError (--- !map:HashWithIndifferentAccess 
number_of_tins: "100"
drug_name: INH or H (Isoniazid 100mg tablet)
number_of_pills_per_tin: "10"
authenticity_token: ksGWiCOUimxaV1Ocq/87ZW0fqeJpcvaXcKipzjKcfxo=
action: create_stock
controller: drug
observations: 
- !map:HashWithIndifferentAccess 
  value_coded: ""
  value_datetime: "2011-10-27"
  order_id: ""
  obs_group_id: ""
  value_drug: ""
  patient_id: "-611349938"
  value_coded_or_text_multiple: 
  - ""
  value_boolean: ""
  concept_name: delivery_date
  value_modifier: ""
  value_text: ""
  obs_datetime: "2011-10-27T14:05:44+02:00"
  value_numeric: ""
  value_coded_or_text: ""
- !map:HashWithIndifferentAccess 
  value_coded: ""
  value_datetime: "2011-10-27"
  order_id: ""
  obs_group_id: ""
  value_drug: ""
  patient_id: "-612749988"
  value_coded_or_text_multiple: 
  - ""
  value_boolean: ""
  concept_name: expiry_date
  value_modifier: ""
  value_text: ""
  obs_datetime: "2011-10-27T14:05:44+02:00"
  value_numeric: ""
  value_coded_or_text: ""
):
  app/controllers/drug_controller.rb:27:in `create_stock'
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (126.6ms)
Rendered rescues/_request_and_response (1.1ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#create_stock (for 127.0.0.1 at 2011-10-27 14:06:37) [POST]
  Parameters: {"drug_name"=>"INH or H (Isoniazid 100mg tablet)", "number_of_tins"=>"100", "authenticity_token"=>"ksGWiCOUimxaV1Ocq/87ZW0fqeJpcvaXcKipzjKcfxo=", "number_of_pills_per_tin"=>"10", "observations"=>[{"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"-611349938", "value_drug"=>"", "concept_name"=>"delivery_date", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"2011-10-27T14:05:44+02:00", "value_numeric"=>"", "value_coded_or_text"=>""}, {"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"-612749988", "value_drug"=>"", "concept_name"=>"expiry_date", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"2011-10-27T14:05:44+02:00", "value_numeric"=>"", "value_coded_or_text"=>""}]}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.2ms)[0m   [0mSELECT * FROM `drug` WHERE (`drug`.`name` = 'INH or H (Isoniazid 100mg tablet)') AND (drug.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `pharmacy_obs`[0m
  [4;35;1mPharmacyEncounterType Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `pharmacy_encounter_type`[0m
  [4;36;1mPharmacyEncounterType Load (0.4ms)[0m   [0;1mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m

NameError (uninitialized constant Openmrs::User):
  app/models/openmrs.rb:45:in `before_save'
  app/models/pharmacy.rb:94:in `new_delivery'
  app/controllers/drug_controller.rb:27:in `create_stock'
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (44.9ms)
Rendered rescues/_request_and_response (1.1ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#create_stock (for 127.0.0.1 at 2011-10-27 14:09:17) [POST]
  Parameters: {"drug_name"=>"INH or H (Isoniazid 100mg tablet)", "number_of_tins"=>"100", "authenticity_token"=>"ksGWiCOUimxaV1Ocq/87ZW0fqeJpcvaXcKipzjKcfxo=", "number_of_pills_per_tin"=>"10", "observations"=>[{"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"-611349938", "value_drug"=>"", "concept_name"=>"delivery_date", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"2011-10-27T14:05:44+02:00", "value_numeric"=>"", "value_coded_or_text"=>""}, {"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"-612749988", "value_drug"=>"", "concept_name"=>"expiry_date", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"2011-10-27T14:05:44+02:00", "value_numeric"=>"", "value_coded_or_text"=>""}]}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mDrug Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `drug`[0m
  [4;36;1mDrug Load (0.2ms)[0m   [0;1mSELECT * FROM `drug` WHERE (`drug`.`name` = 'INH or H (Isoniazid 100mg tablet)') AND (drug.retired = 0) LIMIT 1[0m
  [4;35;1mPharmacy Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `pharmacy_obs`[0m
  [4;36;1mPharmacyEncounterType Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `pharmacy_encounter_type`[0m
  [4;35;1mPharmacyEncounterType Load (0.1ms)[0m   [0mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m

NameError (uninitialized constant Openmrs::Person):
  app/models/openmrs.rb:52:in `before_create'
  app/models/pharmacy.rb:94:in `new_delivery'
  app/controllers/drug_controller.rb:27:in `create_stock'
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (121.4ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#create_stock (for 127.0.0.1 at 2011-10-27 14:09:46) [POST]
  Parameters: {"drug_name"=>"INH or H (Isoniazid 100mg tablet)", "number_of_tins"=>"100", "authenticity_token"=>"ksGWiCOUimxaV1Ocq/87ZW0fqeJpcvaXcKipzjKcfxo=", "number_of_pills_per_tin"=>"10", "observations"=>[{"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"-611349938", "value_drug"=>"", "concept_name"=>"delivery_date", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"2011-10-27T14:05:44+02:00", "value_numeric"=>"", "value_coded_or_text"=>""}, {"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"-612749988", "value_drug"=>"", "concept_name"=>"expiry_date", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"2011-10-27T14:05:44+02:00", "value_numeric"=>"", "value_coded_or_text"=>""}]}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mDrug Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `drug`[0m
  [4;36;1mDrug Load (0.1ms)[0m   [0;1mSELECT * FROM `drug` WHERE (`drug`.`name` = 'INH or H (Isoniazid 100mg tablet)') AND (drug.retired = 0) LIMIT 1[0m
  [4;35;1mPharmacy Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `pharmacy_obs`[0m
  [4;36;1mPharmacyEncounterType Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `pharmacy_encounter_type`[0m
  [4;35;1mPharmacyEncounterType Load (0.1ms)[0m   [0mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mPerson Columns (6.3ms)[0m   [0;1mSHOW FIELDS FROM `person`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m

NameError (uninitialized constant Person::PersonName):
  (eval):3:in `has_many'
  app/models/person.rb:14
  app/models/openmrs.rb:52:in `before_create'
  app/models/pharmacy.rb:94:in `new_delivery'
  app/controllers/drug_controller.rb:27:in `create_stock'
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (136.4ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#create_stock (for 127.0.0.1 at 2011-10-27 14:10:20) [POST]
  Parameters: {"drug_name"=>"INH or H (Isoniazid 100mg tablet)", "number_of_tins"=>"100", "authenticity_token"=>"ksGWiCOUimxaV1Ocq/87ZW0fqeJpcvaXcKipzjKcfxo=", "number_of_pills_per_tin"=>"10", "observations"=>[{"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"-611349938", "value_drug"=>"", "concept_name"=>"delivery_date", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"2011-10-27T14:05:44+02:00", "value_numeric"=>"", "value_coded_or_text"=>""}, {"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"-612749988", "value_drug"=>"", "concept_name"=>"expiry_date", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"2011-10-27T14:05:44+02:00", "value_numeric"=>"", "value_coded_or_text"=>""}]}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.2ms)[0m   [0mSELECT * FROM `drug` WHERE (`drug`.`name` = 'INH or H (Isoniazid 100mg tablet)') AND (drug.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `pharmacy_obs`[0m
  [4;35;1mPharmacyEncounterType Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `pharmacy_encounter_type`[0m
  [4;36;1mPharmacyEncounterType Load (0.2ms)[0m   [0;1mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mSQL (3.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPerson Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `person`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mPersonName Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `person_name`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m

NameError (uninitialized constant Person::PersonAddress):
  (eval):3:in `has_many'
  app/models/person.rb:15
  app/models/openmrs.rb:52:in `before_create'
  app/models/pharmacy.rb:94:in `new_delivery'
  app/controllers/drug_controller.rb:27:in `create_stock'
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (68.7ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#create_stock (for 127.0.0.1 at 2011-10-27 14:10:54) [POST]
  Parameters: {"drug_name"=>"INH or H (Isoniazid 100mg tablet)", "number_of_tins"=>"100", "authenticity_token"=>"ksGWiCOUimxaV1Ocq/87ZW0fqeJpcvaXcKipzjKcfxo=", "number_of_pills_per_tin"=>"10", "observations"=>[{"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"-611349938", "value_drug"=>"", "concept_name"=>"delivery_date", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"2011-10-27T14:05:44+02:00", "value_numeric"=>"", "value_coded_or_text"=>""}, {"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"-612749988", "value_drug"=>"", "concept_name"=>"expiry_date", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"2011-10-27T14:05:44+02:00", "value_numeric"=>"", "value_coded_or_text"=>""}]}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.2ms)[0m   [0mSELECT * FROM `drug` WHERE (`drug`.`name` = 'INH or H (Isoniazid 100mg tablet)') AND (drug.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `pharmacy_obs`[0m
  [4;35;1mPharmacyEncounterType Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `pharmacy_encounter_type`[0m
  [4;36;1mPharmacyEncounterType Load (0.1ms)[0m   [0;1mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPerson Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `person`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mPersonName Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `person_name`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPersonAddress Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `person_address`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m

NameError (uninitialized constant Person::Observation):
  (eval):3:in `has_many'
  app/models/person.rb:18
  app/models/openmrs.rb:52:in `before_create'
  app/models/pharmacy.rb:94:in `new_delivery'
  app/controllers/drug_controller.rb:27:in `create_stock'
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (54.5ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#create_stock (for 127.0.0.1 at 2011-10-27 14:11:46) [POST]
  Parameters: {"drug_name"=>"INH or H (Isoniazid 100mg tablet)", "number_of_tins"=>"100", "authenticity_token"=>"ksGWiCOUimxaV1Ocq/87ZW0fqeJpcvaXcKipzjKcfxo=", "number_of_pills_per_tin"=>"10", "observations"=>[{"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"-611349938", "value_drug"=>"", "concept_name"=>"delivery_date", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"2011-10-27T14:05:44+02:00", "value_numeric"=>"", "value_coded_or_text"=>""}, {"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"-612749988", "value_drug"=>"", "concept_name"=>"expiry_date", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"2011-10-27T14:05:44+02:00", "value_numeric"=>"", "value_coded_or_text"=>""}]}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mDrug Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `drug`[0m
  [4;36;1mDrug Load (0.2ms)[0m   [0;1mSELECT * FROM `drug` WHERE (`drug`.`name` = 'INH or H (Isoniazid 100mg tablet)') AND (drug.retired = 0) LIMIT 1[0m
  [4;35;1mPharmacy Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `pharmacy_obs`[0m
  [4;36;1mPharmacyEncounterType Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `pharmacy_encounter_type`[0m
  [4;35;1mPharmacyEncounterType Load (0.1ms)[0m   [0mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m

SyntaxError (/var/www/pharmacy/app/models/person.rb:568: syntax error, unexpected kEND, expecting $end):
  app/models/openmrs.rb:52:in `before_create'
  app/models/pharmacy.rb:94:in `new_delivery'
  app/controllers/drug_controller.rb:27:in `create_stock'
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (48.4ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#create_stock (for 127.0.0.1 at 2011-10-27 14:12:23) [POST]
  Parameters: {"drug_name"=>"INH or H (Isoniazid 100mg tablet)", "number_of_tins"=>"100", "authenticity_token"=>"ksGWiCOUimxaV1Ocq/87ZW0fqeJpcvaXcKipzjKcfxo=", "number_of_pills_per_tin"=>"10", "observations"=>[{"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"-611349938", "value_drug"=>"", "concept_name"=>"delivery_date", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"2011-10-27T14:05:44+02:00", "value_numeric"=>"", "value_coded_or_text"=>""}, {"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"-612749988", "value_drug"=>"", "concept_name"=>"expiry_date", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"2011-10-27T14:05:44+02:00", "value_numeric"=>"", "value_coded_or_text"=>""}]}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mDrug Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `drug`[0m
  [4;36;1mDrug Load (7.4ms)[0m   [0;1mSELECT * FROM `drug` WHERE (`drug`.`name` = 'INH or H (Isoniazid 100mg tablet)') AND (drug.retired = 0) LIMIT 1[0m
  [4;35;1mPharmacy Columns (10.4ms)[0m   [0mSHOW FIELDS FROM `pharmacy_obs`[0m
  [4;36;1mPharmacyEncounterType Columns (2.9ms)[0m   [0;1mSHOW FIELDS FROM `pharmacy_encounter_type`[0m
  [4;35;1mPharmacyEncounterType Load (0.2ms)[0m   [0mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mPerson Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `person`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPersonName Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `person_name`[0m
  [4;36;1mPharmacy Create (0.0ms)[0m   [0;1mMysql::Error: Column 'creator' cannot be null: INSERT INTO `pharmacy_obs` (`value_coded`, `voided`, `changed_by`, `creator`, `encounter_date`, `voided_by`, `drug_id`, `expiry_date`, `date_voided`, `void_reason`, `value_text`, `date_changed`, `pharmacy_encounter_type`, `value_numeric`, `date_created`) VALUES(NULL, 0, NULL, NULL, '2011-10-27', NULL, 24, '2011-10-27', NULL, NULL, NULL, '2011-10-27 14:12:23', 2, 1000.0, '2011-10-27 14:12:23')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m

ActiveRecord::StatementInvalid (Mysql::Error: Column 'creator' cannot be null: INSERT INTO `pharmacy_obs` (`value_coded`, `voided`, `changed_by`, `creator`, `encounter_date`, `voided_by`, `drug_id`, `expiry_date`, `date_voided`, `void_reason`, `value_text`, `date_changed`, `pharmacy_encounter_type`, `value_numeric`, `date_created`) VALUES(NULL, 0, NULL, NULL, '2011-10-27', NULL, 24, '2011-10-27', NULL, NULL, NULL, '2011-10-27 14:12:23', 2, 1000.0, '2011-10-27 14:12:23')):
  app/models/pharmacy.rb:94:in `new_delivery'
  app/controllers/drug_controller.rb:27:in `create_stock'
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (109.2ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 14:15:55) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 14ms (View: 13, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (2.7ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 14:15:59) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 6ms (View: 2, DB: 3) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 14:17:20) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 25ms (View: 23, DB: 1) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 14:17:25) [GET]
Rendering template within layouts/menu
Rendering drug/index
Completed in 5ms (View: 2, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 14:22:29) [GET]
  Parameters: {"action"=>"index", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
Redirected to http://localhost:3003/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 21ms (DB: 0) | 302 Found [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#new (for 127.0.0.1 at 2011-10-27 14:22:29) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}

ActionView::MissingTemplate (Missing template sessions/new.erb in view path app/views):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#new (for 127.0.0.1 at 2011-10-27 14:23:01) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new

ActionView::TemplateError (undefined local variable or method `welcome_message' for #<ActionView::Base:0xb7013648>) on line #8 of app/views/sessions/new.rhtml:
5:     //barcodeScanAction = gotoNextPage;
6: 
7:     function inform() {
8:       $('infoBar'+tstCurrentPage).innerHTML = "<%= welcome_message %>";  
9:     }           
10:   </script>
11: 

    app/views/sessions/new.rhtml:8:in `_run_rhtml_app47views47sessions47new46rhtml'
    /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
    /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
    /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
    /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
    /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
    /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
    /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
    /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
    /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
    /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (39.9ms)
Rendered rescues/_request_and_response (1.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#new (for 127.0.0.1 at 2011-10-27 14:23:47) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 14ms (View: 12, DB: 1) | 200 OK [http://localhost/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-10-27 14:23:47) [GET]

ActionController::RoutingError (No route matches "/javascripts/barcode.js" with {:method=>:get}):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#create (for 127.0.0.1 at 2011-10-27 14:23:58) [POST]
  Parameters: {"action"=>"create", "authenticity_token"=>"ksGWiCOUimxaV1Ocq/87ZW0fqeJpcvaXcKipzjKcfxo=", "controller"=>"sessions", "login"=>"admin", "password"=>"[FILTERED]"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`username` = 'admin') AND (users.retired = 0) LIMIT 1[0m
Redirected to http://localhost:3003/drug
Completed in 81ms (DB: 1) | 302 Found [http://localhost/session]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 14:23:58) [GET]
  Parameters: {"action"=>"index", "controller"=>"drug"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m

NameError (uninitialized constant AuthenticatedSystem::Location):
  lib/authenticated_system.rb:27:in `current_location'
  lib/authenticated_system.rb:94:in `located?'
  lib/authenticated_system.rb:90:in `location_required'
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (35.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 14:25:09) [GET]
  Parameters: {"action"=>"index", "controller"=>"drug"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mLocation Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `location`[0m
Redirected to http://localhost:3003/location
Filter chain halted as [:location_required] rendered_or_redirected.
Completed in 30ms (DB: 1) | 302 Found [http://localhost/drug]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-10-27 14:25:10) [GET]

ActionController::RoutingError (No route matches "/location" with {:method=>:get}):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#create (for 127.0.0.1 at 2011-10-27 14:25:31) [POST]
  Parameters: {"action"=>"create", "authenticity_token"=>"ksGWiCOUimxaV1Ocq/87ZW0fqeJpcvaXcKipzjKcfxo=", "controller"=>"sessions", "login"=>"admin", "password"=>"[FILTERED]"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`username` = 'admin') AND (users.retired = 0) LIMIT 1[0m
Failed login for 'admin' from 127.0.0.1 at Thu Oct 27 12:25:31 UTC 2011
Rendering template within layouts/application
Rendering sessions/new
Completed in 92ms (View: 3, DB: 1) | 200 OK [http://localhost/session]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-10-27 14:25:32) [GET]

ActionController::RoutingError (No route matches "/javascripts/barcode.js" with {:method=>:get}):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#create (for 127.0.0.1 at 2011-10-27 14:25:40) [POST]
  Parameters: {"action"=>"create", "authenticity_token"=>"ksGWiCOUimxaV1Ocq/87ZW0fqeJpcvaXcKipzjKcfxo=", "controller"=>"sessions", "login"=>"admin", "password"=>"[FILTERED]"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`username` = 'admin') AND (users.retired = 0) LIMIT 1[0m
Redirected to http://localhost:3003/drug
Completed in 25ms (DB: 1) | 302 Found [http://localhost/session]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 14:25:40) [GET]
  Parameters: {"action"=>"index", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
Redirected to http://localhost:3003/location
Filter chain halted as [:location_required] rendered_or_redirected.
Completed in 34ms (DB: 1) | 302 Found [http://localhost/drug]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-10-27 14:25:40) [GET]

ActionController::RoutingError (No route matches "/location" with {:method=>:get}):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-10-27 14:26:17) [GET]

ActionController::RoutingError (No route matches "/location" with {:method=>:get}):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#location (for 127.0.0.1 at 2011-10-27 14:26:49) [GET]
  Parameters: {"action"=>"location", "controller"=>"sessions"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
Rendering template within layouts/application
Rendering sessions/location

ActionView::TemplateError (undefined local variable or method `welcome_message' for #<ActionView::Base:0xb737febc>) on line #21 of app/views/sessions/location.rhtml:
18:     }
19: 
20:     function inform() {
21:       $('infoBar'+tstCurrentPage).innerHTML = "<%= welcome_message %>";  
22:     }           
23:   </script>
24:   

    app/views/sessions/location.rhtml:21:in `_run_rhtml_app47views47sessions47location46rhtml'
    /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
    /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
    /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
    /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
    /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
    /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
    /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
    /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
    /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
    /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (39.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#location (for 127.0.0.1 at 2011-10-27 14:27:07) [GET]
  Parameters: {"action"=>"location", "controller"=>"sessions"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
Rendering template within layouts/application
Rendering sessions/location
Completed in 29ms (View: 7, DB: 1) | 200 OK [http://localhost/location]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-10-27 14:27:07) [GET]

ActionController::RoutingError (No route matches "/javascripts/barcode.js" with {:method=>:get}):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#update (for 127.0.0.1 at 2011-10-27 14:27:13) [PUT]
  Parameters: {"location"=>"724", "action"=>"update", "_method"=>"put", "authenticity_token"=>"ksGWiCOUimxaV1Ocq/87ZW0fqeJpcvaXcKipzjKcfxo=", "controller"=>"sessions"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mLocation Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `location`[0m
  [4;36;1mLocation Load (0.4ms)[0m   [0;1mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) [0m
Rendering template within layouts/application
Rendering sessions/location
Completed in 111ms (View: 3, DB: 5) | 200 OK [http://localhost/session]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-10-27 14:27:13) [GET]

ActionController::RoutingError (No route matches "/javascripts/barcode.js" with {:method=>:get}):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#update (for 127.0.0.1 at 2011-10-27 14:27:29) [PUT]
  Parameters: {"location"=>"724", "action"=>"update", "_method"=>"put", "authenticity_token"=>"ksGWiCOUimxaV1Ocq/87ZW0fqeJpcvaXcKipzjKcfxo=", "controller"=>"sessions"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mLocation Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `location`[0m
  [4;36;1mLocation Load (0.2ms)[0m   [0;1mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) [0m
Rendering template within layouts/application
Rendering sessions/location
Completed in 50ms (View: 3, DB: 1) | 200 OK [http://localhost/session]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-10-27 14:27:29) [GET]

ActionController::RoutingError (No route matches "/javascripts/barcode.js" with {:method=>:get}):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#destroy (for 127.0.0.1 at 2011-10-27 14:29:02) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
Redirected to http://localhost:3003/
Completed in 3ms (DB: 1) | 302 Found [http://localhost/logout]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 14:29:03) [GET]
  Parameters: {"action"=>"index", "controller"=>"drug"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
Redirected to http://localhost:3003/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 17ms (DB: 1) | 302 Found [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#new (for 127.0.0.1 at 2011-10-27 14:29:03) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 6ms (View: 4, DB: 1) | 200 OK [http://localhost/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-10-27 14:29:03) [GET]

ActionController::RoutingError (No route matches "/javascripts/barcode.js" with {:method=>:get}):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#create (for 127.0.0.1 at 2011-10-27 14:29:15) [POST]
  Parameters: {"action"=>"create", "authenticity_token"=>"INRY3BwwU+2Ni0DMVUh3Z/3oTdnVJylotE8n+XaXP/g=", "controller"=>"sessions", "login"=>"admin", "password"=>"[FILTERED]"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`username` = 'admin') AND (users.retired = 0) LIMIT 1[0m
Redirected to http://localhost:3003/drug
Completed in 23ms (DB: 1) | 302 Found [http://localhost/session]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 14:29:15) [GET]
  Parameters: {"action"=>"index", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
Redirected to http://localhost:3003/location
Filter chain halted as [:location_required] rendered_or_redirected.
Completed in 37ms (DB: 1) | 302 Found [http://localhost/drug]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#location (for 127.0.0.1 at 2011-10-27 14:29:15) [GET]
  Parameters: {"action"=>"location", "controller"=>"sessions"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
Rendering template within layouts/application
Rendering sessions/location
Completed in 25ms (View: 3, DB: 1) | 200 OK [http://localhost/location]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-10-27 14:29:15) [GET]

ActionController::RoutingError (No route matches "/javascripts/barcode.js" with {:method=>:get}):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#update (for 127.0.0.1 at 2011-10-27 14:29:19) [PUT]
  Parameters: {"location"=>"724", "action"=>"update", "_method"=>"put", "authenticity_token"=>"INRY3BwwU+2Ni0DMVUh3Z/3oTdnVJylotE8n+XaXP/g=", "controller"=>"sessions"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mLocation Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `location`[0m
  [4;36;1mLocation Load (0.2ms)[0m   [0;1mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) [0m
Rendering template within layouts/application
Rendering sessions/location
Completed in 41ms (View: 4, DB: 1) | 200 OK [http://localhost/session]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-10-27 14:29:19) [GET]

ActionController::RoutingError (No route matches "/javascripts/barcode.js" with {:method=>:get}):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#update (for 127.0.0.1 at 2011-10-27 14:29:43) [PUT]
  Parameters: {"location"=>"724", "action"=>"update", "_method"=>"put", "authenticity_token"=>"INRY3BwwU+2Ni0DMVUh3Z/3oTdnVJylotE8n+XaXP/g=", "controller"=>"sessions"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.1ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) [0m
Rendering template within layouts/application
Rendering sessions/location
Completed in 95ms (View: 27, DB: 1) | 200 OK [http://localhost/session]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-10-27 14:29:43) [GET]

ActionController::RoutingError (No route matches "/javascripts/barcode.js" with {:method=>:get}):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#update (for 127.0.0.1 at 2011-10-27 14:29:48) [PUT]
  Parameters: {"location"=>"724", "action"=>"update", "_method"=>"put", "authenticity_token"=>"INRY3BwwU+2Ni0DMVUh3Z/3oTdnVJylotE8n+XaXP/g=", "controller"=>"sessions"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.3ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) [0m
Rendering template within layouts/application
Rendering sessions/location
Completed in 84ms (View: 3, DB: 1) | 200 OK [http://localhost/session]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-10-27 14:29:49) [GET]

ActionController::RoutingError (No route matches "/javascripts/barcode.js" with {:method=>:get}):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#update (for 127.0.0.1 at 2011-10-27 14:31:32) [PUT]
  Parameters: {"location"=>"724", "action"=>"update", "_method"=>"put", "authenticity_token"=>"INRY3BwwU+2Ni0DMVUh3Z/3oTdnVJylotE8n+XaXP/g=", "controller"=>"sessions"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (2.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m

RuntimeError (--- !map:HashWithIndifferentAccess 
location: "724"
authenticity_token: INRY3BwwU+2Ni0DMVUh3Z/3oTdnVJylotE8n+XaXP/g=
_method: put
action: update
controller: sessions
):
  app/controllers/sessions_controller.rb:27:in `update'
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (31.8ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#update (for 127.0.0.1 at 2011-10-27 14:31:38) [PUT]
  Parameters: {"location"=>"724", "action"=>"update", "_method"=>"put", "authenticity_token"=>"INRY3BwwU+2Ni0DMVUh3Z/3oTdnVJylotE8n+XaXP/g=", "controller"=>"sessions"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m

RuntimeError (--- !map:HashWithIndifferentAccess 
location: "724"
authenticity_token: INRY3BwwU+2Ni0DMVUh3Z/3oTdnVJylotE8n+XaXP/g=
_method: put
action: update
controller: sessions
):
  app/controllers/sessions_controller.rb:27:in `update'
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (86.9ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#update (for 127.0.0.1 at 2011-10-27 14:31:56) [PUT]
  Parameters: {"location"=>"724", "action"=>"update", "_method"=>"put", "authenticity_token"=>"INRY3BwwU+2Ni0DMVUh3Z/3oTdnVJylotE8n+XaXP/g=", "controller"=>"sessions"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.3ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) [0m

RuntimeError (--- !map:HashWithIndifferentAccess 
location: "724"
authenticity_token: INRY3BwwU+2Ni0DMVUh3Z/3oTdnVJylotE8n+XaXP/g=
_method: put
action: update
controller: sessions
):
  app/controllers/sessions_controller.rb:31:in `update'
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (45.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#update (for 127.0.0.1 at 2011-10-27 14:32:07) [PUT]
  Parameters: {"location"=>"724", "action"=>"update", "_method"=>"put", "authenticity_token"=>"INRY3BwwU+2Ni0DMVUh3Z/3oTdnVJylotE8n+XaXP/g=", "controller"=>"sessions"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.6ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) [0m

RuntimeError (--- !ruby/object:Location 
attributes: 
  region: 
  address1: 
  name: HIV Reception
  retire_reason: 
  township_division: 
  latitude: 
  state_province: 
  address2: 
  location_type_id: 
  retired_by: 
  subregion: 
  country: 
  city_village: 
  uuid: 26b65ddc-e841-11e0-ae81-544249152fc0
  creator: "1"
  postal_code: 
  date_retired: 
  county_district: 
  location_id: "724"
  neighborhood_cell: 
  longitude: 
  description: Workstation Location
  retired: "0"
  parent_location: 
  date_created: 2011-07-25 14:22:18
attributes_cache: {}

):
  app/controllers/sessions_controller.rb:31:in `update'
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (30.6ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#update (for 127.0.0.1 at 2011-10-27 14:32:32) [PUT]
  Parameters: {"location"=>"724", "action"=>"update", "_method"=>"put", "authenticity_token"=>"INRY3BwwU+2Ni0DMVUh3Z/3oTdnVJylotE8n+XaXP/g=", "controller"=>"sessions"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.3ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) [0m

RuntimeError (--- false
):
  app/controllers/sessions_controller.rb:33:in `update'
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (42.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#update (for 127.0.0.1 at 2011-10-27 14:33:27) [PUT]
  Parameters: {"location"=>"724", "action"=>"update", "_method"=>"put", "authenticity_token"=>"INRY3BwwU+2Ni0DMVUh3Z/3oTdnVJylotE8n+XaXP/g=", "controller"=>"sessions"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) [0m
  [4;36;1mLocation Load (40.3ms)[0m   [0;1mSELECT *
 FROM location
 WHERE location_id IN (SELECT location_id
 FROM location_tag_map
 WHERE location_tag_id = (SELECT location_tag_id
 FROM location_tag
 WHERE name = 'Workstation Location'))
 ORDER BY name ASC[0m

RuntimeError (--- true
):
  app/controllers/sessions_controller.rb:33:in `update'
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (35.7ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#update (for 127.0.0.1 at 2011-10-27 14:33:42) [PUT]
  Parameters: {"location"=>"724", "action"=>"update", "_method"=>"put", "authenticity_token"=>"INRY3BwwU+2Ni0DMVUh3Z/3oTdnVJylotE8n+XaXP/g=", "controller"=>"sessions"}
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mLocation Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `location`[0m
  [4;36;1mLocation Load (0.3ms)[0m   [0;1mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) [0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT *
 FROM location
 WHERE location_id IN (SELECT location_id
 FROM location_tag_map
 WHERE location_tag_id = (SELECT location_tag_id
 FROM location_tag
 WHERE name = 'Workstation Location'))
 ORDER BY name ASC[0m

NameError (undefined local variable or method `use_user_selected_activities' for #<SessionsController:0xb7109e1c>):
  app/controllers/sessions_controller.rb:39:in `update'
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (57.8ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#update (for 127.0.0.1 at 2011-10-27 14:34:06) [PUT]
  Parameters: {"location"=>"724", "action"=>"update", "_method"=>"put", "authenticity_token"=>"INRY3BwwU+2Ni0DMVUh3Z/3oTdnVJylotE8n+XaXP/g=", "controller"=>"sessions"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (9.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.1ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) [0m
  [4;36;1mLocation Load (0.1ms)[0m   [0;1mSELECT *
 FROM location
 WHERE location_id IN (SELECT location_id
 FROM location_tag_map
 WHERE location_tag_id = (SELECT location_tag_id
 FROM location_tag
 WHERE name = 'Workstation Location'))
 ORDER BY name ASC[0m

NameError (undefined local variable or method `use_user_selected_activities' for #<SessionsController:0xb6e30b14>):
  app/controllers/sessions_controller.rb:39:in `update'
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (29.9ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#update (for 127.0.0.1 at 2011-10-27 14:34:18) [PUT]
  Parameters: {"location"=>"724", "action"=>"update", "_method"=>"put", "authenticity_token"=>"INRY3BwwU+2Ni0DMVUh3Z/3oTdnVJylotE8n+XaXP/g=", "controller"=>"sessions"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) [0m
  [4;36;1mLocation Load (0.1ms)[0m   [0;1mSELECT *
 FROM location
 WHERE location_id IN (SELECT location_id
 FROM location_tag_map
 WHERE location_tag_id = (SELECT location_tag_id
 FROM location_tag
 WHERE name = 'Workstation Location'))
 ORDER BY name ASC[0m

NameError (undefined local variable or method `use_user_selected_activities' for #<SessionsController:0xb6f09be4>):
  app/controllers/sessions_controller.rb:39:in `update'
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (35.0ms)
Rendered rescues/_request_and_response (1.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#update (for 127.0.0.1 at 2011-10-27 14:34:22) [PUT]
  Parameters: {"location"=>"724", "action"=>"update", "_method"=>"put", "authenticity_token"=>"INRY3BwwU+2Ni0DMVUh3Z/3oTdnVJylotE8n+XaXP/g=", "controller"=>"sessions"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mLocation Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `location`[0m
  [4;36;1mLocation Load (0.2ms)[0m   [0;1mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) [0m
  [4;35;1mLocation Load (0.3ms)[0m   [0mSELECT *
 FROM location
 WHERE location_id IN (SELECT location_id
 FROM location_tag_map
 WHERE location_tag_id = (SELECT location_tag_id
 FROM location_tag
 WHERE name = 'Workstation Location'))
 ORDER BY name ASC[0m

NameError (undefined local variable or method `use_user_selected_activities' for #<SessionsController:0xb71541ec>):
  app/controllers/sessions_controller.rb:39:in `update'
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (31.7ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#update (for 127.0.0.1 at 2011-10-27 14:34:30) [PUT]
  Parameters: {"location"=>"724", "action"=>"update", "_method"=>"put", "authenticity_token"=>"INRY3BwwU+2Ni0DMVUh3Z/3oTdnVJylotE8n+XaXP/g=", "controller"=>"sessions"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.6ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) [0m
  [4;36;1mLocation Load (0.9ms)[0m   [0;1mSELECT *
 FROM location
 WHERE location_id IN (SELECT location_id
 FROM location_tag_map
 WHERE location_tag_id = (SELECT location_tag_id
 FROM location_tag
 WHERE name = 'Workstation Location'))
 ORDER BY name ASC[0m

NameError (undefined local variable or method `use_user_selected_activities' for #<SessionsController:0xb6e8a498>):
  app/controllers/sessions_controller.rb:39:in `update'
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (46.9ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#update (for 127.0.0.1 at 2011-10-27 14:34:50) [PUT]
  Parameters: {"location"=>"724", "action"=>"update", "_method"=>"put", "authenticity_token"=>"INRY3BwwU+2Ni0DMVUh3Z/3oTdnVJylotE8n+XaXP/g=", "controller"=>"sessions"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mLocation Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `location`[0m
  [4;36;1mLocation Load (0.3ms)[0m   [0;1mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) [0m
  [4;35;1mLocation Load (0.1ms)[0m   [0mSELECT *
 FROM location
 WHERE location_id IN (SELECT location_id
 FROM location_tag_map
 WHERE location_tag_id = (SELECT location_tag_id
 FROM location_tag
 WHERE name = 'Workstation Location'))
 ORDER BY name ASC[0m
Redirected to http://localhost:3003/drug
Completed in 95ms (DB: 0) | 302 Found [http://localhost/session]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 14:34:50) [GET]
  Parameters: {"action"=>"index", "controller"=>"drug"}
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.4ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
Rendering template within layouts/menu
Rendering drug/index
Completed in 52ms (View: 15, DB: 0) | 200 OK [http://localhost/drug]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 14:34:55) [GET]
  Parameters: {"action"=>"index", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.1ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
Rendering template within layouts/menu
Rendering drug/index
Completed in 39ms (View: 1, DB: 1) | 200 OK [http://localhost/drug]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 14:36:01) [GET]
  Parameters: {"action"=>"index", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.1ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
Rendering template within layouts/menu
Rendering drug/index
Completed in 103ms (View: 59, DB: 1) | 200 OK [http://localhost/drug]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#destroy (for 127.0.0.1 at 2011-10-27 14:36:18) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
Redirected to http://localhost:3003/
Completed in 3ms (DB: 0) | 302 Found [http://localhost/logout]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 14:36:18) [GET]
  Parameters: {"action"=>"index", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
Redirected to http://localhost:3003/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 18ms (DB: 1) | 302 Found [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#new (for 127.0.0.1 at 2011-10-27 14:36:18) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 18ms (View: 16, DB: 1) | 200 OK [http://localhost/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-10-27 14:36:18) [GET]

ActionController::RoutingError (No route matches "/javascripts/barcode.js" with {:method=>:get}):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#create (for 127.0.0.1 at 2011-10-27 14:36:43) [POST]
  Parameters: {"action"=>"create", "authenticity_token"=>"h6IsTZgXJyX8Ct5s/b+sIWxXGCT4CtDXJ5luvEPfrrU=", "controller"=>"sessions", "login"=>"admin", "password"=>"[FILTERED]"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`username` = 'admin') AND (users.retired = 0) LIMIT 1[0m
Redirected to http://localhost:3003/drug
Completed in 22ms (DB: 1) | 302 Found [http://localhost/session]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 14:36:43) [GET]
  Parameters: {"action"=>"index", "controller"=>"drug"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mLocation Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `location`[0m
Redirected to http://localhost:3003/location
Filter chain halted as [:location_required] rendered_or_redirected.
Completed in 30ms (DB: 1) | 302 Found [http://localhost/drug]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#location (for 127.0.0.1 at 2011-10-27 14:36:44) [GET]
  Parameters: {"action"=>"location", "controller"=>"sessions"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
Rendering template within layouts/application
Rendering sessions/location
Completed in 32ms (View: 7, DB: 1) | 200 OK [http://localhost/location]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-10-27 14:36:44) [GET]

ActionController::RoutingError (No route matches "/javascripts/barcode.js" with {:method=>:get}):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#update (for 127.0.0.1 at 2011-10-27 14:36:47) [PUT]
  Parameters: {"location"=>"724", "action"=>"update", "_method"=>"put", "authenticity_token"=>"h6IsTZgXJyX8Ct5s/b+sIWxXGCT4CtDXJ5luvEPfrrU=", "controller"=>"sessions"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.1ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) [0m
  [4;36;1mLocation Load (0.1ms)[0m   [0;1mSELECT *
 FROM location
 WHERE location_id IN (SELECT location_id
 FROM location_tag_map
 WHERE location_tag_id = (SELECT location_tag_id
 FROM location_tag
 WHERE name = 'Workstation Location'))
 ORDER BY name ASC[0m
Redirected to http://localhost:3003/drug
Completed in 38ms (DB: 1) | 302 Found [http://localhost/session]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 14:36:47) [GET]
  Parameters: {"action"=>"index", "controller"=>"drug"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mLocation Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `location`[0m
  [4;36;1mLocation Load (0.2ms)[0m   [0;1mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
Rendering template within layouts/menu
Rendering drug/index
Completed in 93ms (View: 6, DB: 1) | 200 OK [http://localhost/drug]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#destroy (for 127.0.0.1 at 2011-10-27 14:36:49) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
Redirected to http://localhost:3003/
Completed in 3ms (DB: 0) | 302 Found [http://localhost/logout]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 14:36:49) [GET]
  Parameters: {"action"=>"index", "controller"=>"drug"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
Redirected to http://localhost:3003/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 19ms (DB: 1) | 302 Found [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#new (for 127.0.0.1 at 2011-10-27 14:36:49) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 6ms (View: 4, DB: 1) | 200 OK [http://localhost/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-10-27 14:36:50) [GET]

ActionController::RoutingError (No route matches "/javascripts/barcode.js" with {:method=>:get}):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#create (for 127.0.0.1 at 2011-10-27 14:37:03) [POST]
  Parameters: {"action"=>"create", "authenticity_token"=>"7Nk9SE6++i0DBvf5zJtOTqGXJJJQYWqnBR6+pCjZfbY=", "controller"=>"sessions", "login"=>"admin", "password"=>"[FILTERED]"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`username` = 'admin') AND (users.retired = 0) LIMIT 1[0m
Redirected to http://localhost:3003/drug
Completed in 22ms (DB: 1) | 302 Found [http://localhost/session]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 14:37:03) [GET]
  Parameters: {"action"=>"index", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
Redirected to http://localhost:3003/location
Filter chain halted as [:location_required] rendered_or_redirected.
Completed in 79ms (DB: 1) | 302 Found [http://localhost/drug]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#location (for 127.0.0.1 at 2011-10-27 14:37:03) [GET]
  Parameters: {"action"=>"location", "controller"=>"sessions"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
Rendering template within layouts/application
Rendering sessions/location
Completed in 25ms (View: 3, DB: 1) | 200 OK [http://localhost/location]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-10-27 14:37:04) [GET]

ActionController::RoutingError (No route matches "/javascripts/barcode.js" with {:method=>:get}):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#update (for 127.0.0.1 at 2011-10-27 14:37:06) [PUT]
  Parameters: {"location"=>"724", "action"=>"update", "_method"=>"put", "authenticity_token"=>"7Nk9SE6++i0DBvf5zJtOTqGXJJJQYWqnBR6+pCjZfbY=", "controller"=>"sessions"}
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mLocation Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `location`[0m
  [4;36;1mLocation Load (0.9ms)[0m   [0;1mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) [0m
  [4;35;1mLocation Load (1.6ms)[0m   [0mSELECT *
 FROM location
 WHERE location_id IN (SELECT location_id
 FROM location_tag_map
 WHERE location_tag_id = (SELECT location_tag_id
 FROM location_tag
 WHERE name = 'Workstation Location'))
 ORDER BY name ASC[0m
Redirected to http://localhost:3003/drug
Completed in 41ms (DB: 1) | 302 Found [http://localhost/session]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 14:37:06) [GET]
  Parameters: {"action"=>"index", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
Rendering template within layouts/menu
Rendering drug/index
Completed in 37ms (View: 1, DB: 1) | 200 OK [http://localhost/drug]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#delivery (for 127.0.0.1 at 2011-10-27 14:37:11) [GET]
  Parameters: {"action"=>"delivery", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.6ms)[0m   [0mSELECT * FROM `drug` WHERE (drug.retired = 0) [0m
Rendering template within layouts/application
Rendering drug/delivery
Completed in 104ms (View: 19, DB: 0) | 200 OK [http://localhost/drug/delivery]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#name (for 127.0.0.1 at 2011-10-27 14:37:12) [GET]
  Parameters: {"search_string"=>"", "action"=>"name", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.5ms)[0m   [0mSELECT * FROM `drug` WHERE (name LIKE '%%') AND (drug.retired = 0) [0m
Completed in 59ms (View: 1, DB: 0) | 200 OK [http://localhost/drug/name?search_string=]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#create_stock (for 127.0.0.1 at 2011-10-27 14:37:26) [POST]
  Parameters: {"drug_name"=>"Triomune-40", "number_of_tins"=>"100", "action"=>"create_stock", "authenticity_token"=>"7Nk9SE6++i0DBvf5zJtOTqGXJJJQYWqnBR6+pCjZfbY=", "number_of_pills_per_tin"=>"10", "controller"=>"drug", "observations"=>[{"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"-613114918", "value_drug"=>"", "concept_name"=>"delivery_date", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"2011-10-27T14:37:12+02:00", "value_numeric"=>"", "value_coded_or_text"=>""}, {"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"-613241828", "value_drug"=>"", "concept_name"=>"expiry_date", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"2011-10-27T14:37:12+02:00", "value_numeric"=>"", "value_coded_or_text"=>""}]}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.4ms)[0m   [0mSELECT * FROM `drug` WHERE (`drug`.`name` = 'Triomune-40') AND (drug.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `pharmacy_obs`[0m
  [4;35;1mPharmacyEncounterType Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `pharmacy_encounter_type`[0m
  [4;36;1mPharmacyEncounterType Load (0.1ms)[0m   [0;1mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mPerson Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `person`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPersonName Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `person_name`[0m
  [4;36;1mPharmacy Create (0.3ms)[0m   [0;1mINSERT INTO `pharmacy_obs` (`value_coded`, `voided`, `changed_by`, `creator`, `encounter_date`, `voided_by`, `drug_id`, `expiry_date`, `date_voided`, `void_reason`, `value_text`, `date_changed`, `pharmacy_encounter_type`, `value_numeric`, `date_created`) VALUES(NULL, 0, 1, 1, '2011-10-27', NULL, 3, '2011-10-27', NULL, NULL, NULL, '2011-10-27 14:37:27', 2, 1000.0, '2011-10-27 14:37:27')[0m
  [4;35;1mSQL (86.1ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3003/drug
Completed in 182ms (DB: 89) | 302 Found [http://localhost/drug/create_stock]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 14:37:27) [GET]
  Parameters: {"action"=>"index", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
Rendering template within layouts/menu
Rendering drug/index
Completed in 36ms (View: 1, DB: 0) | 200 OK [http://localhost/drug]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 14:41:29) [GET]
  Parameters: {"action"=>"index", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
Rendering template within layouts/menu
Rendering drug/index
Completed in 94ms (View: 7, DB: 0) | 200 OK [http://localhost/drug]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#edit_stock (for 127.0.0.1 at 2011-10-27 14:41:31) [GET]
  Parameters: {"action"=>"edit_stock", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
Rendering template within layouts/application
Rendering drug/edit_stock
Completed in 55ms (View: 19, DB: 0) | 200 OK [http://localhost/drug/edit_stock]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#name (for 127.0.0.1 at 2011-10-27 14:41:35) [GET]
  Parameters: {"search_string"=>"", "action"=>"name", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.1ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.5ms)[0m   [0mSELECT * FROM `drug` WHERE (name LIKE '%%') AND (drug.retired = 0) [0m
Completed in 59ms (View: 1, DB: 0) | 200 OK [http://localhost/drug/name?search_string=]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 14:41:39) [GET]
  Parameters: {"action"=>"index", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
Rendering template within layouts/menu
Rendering drug/index
Completed in 41ms (View: 1, DB: 0) | 200 OK [http://localhost/drug]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#delivery (for 127.0.0.1 at 2011-10-27 14:41:53) [GET]
  Parameters: {"action"=>"delivery", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.6ms)[0m   [0mSELECT * FROM `drug` WHERE (drug.retired = 0) [0m
Rendering template within layouts/application
Rendering drug/delivery
Completed in 87ms (View: 19, DB: 0) | 200 OK [http://localhost/drug/delivery]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#name (for 127.0.0.1 at 2011-10-27 14:41:53) [GET]
  Parameters: {"search_string"=>"", "action"=>"name", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.6ms)[0m   [0mSELECT * FROM `drug` WHERE (name LIKE '%%') AND (drug.retired = 0) [0m
Completed in 117ms (View: 1, DB: 0) | 200 OK [http://localhost/drug/name?search_string=]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 14:41:56) [GET]
  Parameters: {"action"=>"index", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
Rendering template within layouts/menu
Rendering drug/index
Completed in 46ms (View: 1, DB: 0) | 200 OK [http://localhost/drug]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#stock_report (for 127.0.0.1 at 2011-10-27 14:41:58) [GET]
  Parameters: {"action"=>"stock_report", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m

NoMethodError (undefined method `to_date' for nil:NilClass):
  app/controllers/drug_controller.rb:48:in `stock_report'
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (32.3ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#stock_report (for 127.0.0.1 at 2011-10-27 14:42:45) [GET]
  Parameters: {"action"=>"stock_report", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `pharmacy_obs`[0m
  [4;35;1mPharmacy Load (1.2ms)[0m   [0mSELECT * FROM `pharmacy_obs` WHERE ((pharmacy_obs.voided = 0) AND (voided = 0)) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.5ms)[0m   [0mSELECT * FROM `drug` WHERE (drug_id IN (3)) AND (drug.retired = 0) [0m
Rendering template within layouts/menu
Rendering drug/stock_report
Completed in 94ms (View: 11, DB: 3) | 200 OK [http://localhost/drug/stock_report]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-10-27 14:42:45) [GET]

ActionController::RoutingError (No route matches "/javascripts/jquery_data_table.js" with {:method=>:get}):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-10-27 14:42:45) [GET]

ActionController::RoutingError (No route matches "/javascripts/jquery.dataTables.min" with {:method=>:get}):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-10-27 14:42:46) [GET]

ActionController::RoutingError (No route matches "/javascripts/jquery.dataTables.min" with {:method=>:get}):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#stock_report (for 127.0.0.1 at 2011-10-27 14:44:23) [GET]
  Parameters: {"action"=>"stock_report", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `pharmacy_obs`[0m
  [4;35;1mPharmacy Load (0.1ms)[0m   [0mSELECT * FROM `pharmacy_obs` WHERE ((pharmacy_obs.voided = 0) AND (voided = 0)) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.3ms)[0m   [0mSELECT * FROM `drug` WHERE (drug_id IN (3)) AND (drug.retired = 0) [0m
Rendering template within layouts/menu
Rendering drug/stock_report
Completed in 121ms (View: 9, DB: 1) | 200 OK [http://localhost/drug/stock_report]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-10-27 14:44:23) [GET]

ActionController::RoutingError (No route matches "/javascripts/jquery_data_table.js" with {:method=>:get}):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-10-27 14:44:23) [GET]

ActionController::RoutingError (No route matches "/javascripts/jquery.dataTables.min" with {:method=>:get}):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-10-27 14:44:23) [GET]

ActionController::RoutingError (No route matches "/javascripts/jquery_data_table.js" with {:method=>:get}):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-10-27 14:44:23) [GET]

ActionController::RoutingError (No route matches "/javascripts/jquery.dataTables.min" with {:method=>:get}):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 14:44:55) [GET]
  Parameters: {"action"=>"index", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.1ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
Rendering template within layouts/menu
Rendering drug/index
Completed in 47ms (View: 6, DB: 0) | 200 OK [http://localhost/drug]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#date_select (for 127.0.0.1 at 2011-10-27 14:44:57) [GET]
  Parameters: {"action"=>"date_select", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
Rendering template within layouts/application
Rendering drug/date_select
Completed in 42ms (View: 5, DB: 0) | 200 OK [http://localhost/drug/date_select]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#stock_report (for 127.0.0.1 at 2011-10-27 14:45:01) [POST]
  Parameters: {"start_date"=>"2011-10-27", "action"=>"stock_report", "authenticity_token"=>"7Nk9SE6++i0DBvf5zJtOTqGXJJJQYWqnBR6+pCjZfbY=", "controller"=>"drug", "end_date"=>"2011-10-27"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (1.7ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `pharmacy_obs`[0m
  [4;35;1mPharmacy Load (0.1ms)[0m   [0mSELECT * FROM `pharmacy_obs` WHERE ((pharmacy_obs.voided = 0) AND (voided = 0)) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.3ms)[0m   [0mSELECT * FROM `drug` WHERE (drug_id IN (3)) AND (drug.retired = 0) [0m
Rendering template within layouts/menu
Rendering drug/stock_report
Completed in 66ms (View: 3, DB: 2) | 200 OK [http://localhost/drug/stock_report]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-10-27 14:45:01) [GET]

ActionController::RoutingError (No route matches "/javascripts/jquery_data_table.js" with {:method=>:get}):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-10-27 14:45:01) [GET]

ActionController::RoutingError (No route matches "/javascripts/jquery.dataTables.min" with {:method=>:get}):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-10-27 14:45:01) [GET]

ActionController::RoutingError (No route matches "/javascripts/jquery_data_table.js" with {:method=>:get}):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-10-27 14:45:02) [GET]

ActionController::RoutingError (No route matches "/javascripts/jquery.dataTables.min" with {:method=>:get}):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 14:45:15) [GET]
  Parameters: {"action"=>"index", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.3ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
Rendering template within layouts/menu
Rendering drug/index
Completed in 44ms (View: 1, DB: 0) | 200 OK [http://localhost/drug]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 14:46:30) [GET]
  Parameters: {"action"=>"index", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.1ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
Rendering template within layouts/menu
Rendering drug/index
Completed in 41ms (View: 1, DB: 0) | 200 OK [http://localhost/drug]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 14:46:33) [GET]
  Parameters: {"action"=>"index", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
Rendering template within layouts/menu
Rendering drug/index
Completed in 37ms (View: 1, DB: 0) | 200 OK [http://localhost/drug]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 14:46:49) [GET]
  Parameters: {"action"=>"index", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (2.5ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
Rendering template within layouts/menu
Rendering drug/index
Completed in 49ms (View: 7, DB: 0) | 200 OK [http://localhost/drug]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#date_select (for 127.0.0.1 at 2011-10-27 14:46:52) [GET]
  Parameters: {"action"=>"date_select", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
Rendering template within layouts/application
Rendering drug/date_select
Completed in 35ms (View: 1, DB: 0) | 200 OK [http://localhost/drug/date_select]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#stock_report (for 127.0.0.1 at 2011-10-27 14:46:57) [POST]
  Parameters: {"start_date"=>"2011-10-27", "action"=>"stock_report", "authenticity_token"=>"7Nk9SE6++i0DBvf5zJtOTqGXJJJQYWqnBR6+pCjZfbY=", "controller"=>"drug", "end_date"=>"2011-10-27"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (277.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `pharmacy_obs`[0m
  [4;35;1mPharmacy Load (0.1ms)[0m   [0mSELECT * FROM `pharmacy_obs` WHERE ((pharmacy_obs.voided = 0) AND (voided = 0)) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.1ms)[0m   [0mSELECT * FROM `drug` WHERE (drug_id IN (3)) AND (drug.retired = 0) [0m
Rendering template within layouts/menu
Rendering drug/stock_report
Completed in 336ms (View: 3, DB: 1) | 200 OK [http://localhost/drug/stock_report]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-10-27 14:46:58) [GET]

ActionController::RoutingError (No route matches "/javascripts/jquery_data_table.js" with {:method=>:get}):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-10-27 14:46:58) [GET]

ActionController::RoutingError (No route matches "/javascripts/jquery.dataTables.min" with {:method=>:get}):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-10-27 14:46:58) [GET]

ActionController::RoutingError (No route matches "/javascripts/jquery_data_table.js" with {:method=>:get}):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-10-27 14:46:58) [GET]

ActionController::RoutingError (No route matches "/javascripts/jquery.dataTables.min" with {:method=>:get}):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 14:47:03) [GET]
  Parameters: {"action"=>"index", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.1ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
Rendering template within layouts/menu
Rendering drug/index
Completed in 40ms (View: 1, DB: 0) | 200 OK [http://localhost/drug]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#edit_stock (for 127.0.0.1 at 2011-10-27 14:47:12) [GET]
  Parameters: {"action"=>"edit_stock", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
Rendering template within layouts/application
Rendering drug/edit_stock
Completed in 60ms (View: 18, DB: 0) | 200 OK [http://localhost/drug/edit_stock]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 14:47:15) [GET]
  Parameters: {"action"=>"index", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
Rendering template within layouts/menu
Rendering drug/index
Completed in 45ms (View: 5, DB: 0) | 200 OK [http://localhost/drug]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#print_barcode (for 127.0.0.1 at 2011-10-27 14:47:20) [GET]
  Parameters: {"action"=>"print_barcode", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (3.6ms)[0m   [0mSELECT * FROM `drug` WHERE (name IS NOT NULL) AND (drug.retired = 0) [0m
Rendering template within layouts/application
Rendering drug/print_barcode
Completed in 121ms (View: 61, DB: 0) | 200 OK [http://localhost/drug/print_barcode]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#print_barcode (for 127.0.0.1 at 2011-10-27 14:47:27) [POST]
  Parameters: {"action"=>"print_barcode", "authenticity_token"=>"7Nk9SE6++i0DBvf5zJtOTqGXJJJQYWqnBR6+pCjZfbY=", "drug_id"=>"2", "controller"=>"drug", "pill_count"=>["12"]}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m

NoMethodError (undefined method `print_and_redirect' for #<DrugController:0xb70136d4>):
  app/controllers/drug_controller.rb:72:in `print_barcode'
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (33.5ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#print_barcode (for 127.0.0.1 at 2011-10-27 15:00:39) [POST]
  Parameters: {"action"=>"print_barcode", "authenticity_token"=>"7Nk9SE6++i0DBvf5zJtOTqGXJJJQYWqnBR6+pCjZfbY=", "drug_id"=>"2", "controller"=>"drug", "pill_count"=>["12"]}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
Rendering template within layouts/application
Rendering print/print

ActionView::MissingTemplate (Missing template print/print.erb in view path app/views):
  app/controllers/application_controller.rb:45:in `print_and_redirect'
  app/controllers/drug_controller.rb:72:in `print_barcode'
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#print_barcode (for 127.0.0.1 at 2011-10-27 15:01:35) [POST]
  Parameters: {"action"=>"print_barcode", "authenticity_token"=>"7Nk9SE6++i0DBvf5zJtOTqGXJJJQYWqnBR6+pCjZfbY=", "drug_id"=>"2", "controller"=>"drug", "pill_count"=>["12"]}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
Rendering template within layouts/application
Rendering print/print
Completed in 47ms (View: 10, DB: 1) | 200 OK [http://localhost/drug/print_barcode]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#print (for 127.0.0.1 at 2011-10-27 15:01:35) [GET]
  Parameters: {"quantity"=>"12", "action"=>"print", "drug_id"=>"2", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.7ms)[0m   [0mSELECT * FROM `drug` WHERE (`drug`.`drug_id` = 2) AND (drug.retired = 0) [0m

NameError (uninitialized constant DrugController::ZebraPrinter):
  app/controllers/drug_controller.rb:94:in `print'
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (42.6ms)
Rendered rescues/_request_and_response (4.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#print_barcode (for 127.0.0.1 at 2011-10-27 15:01:41) [GET]
  Parameters: {"action"=>"print_barcode", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.5ms)[0m   [0mSELECT * FROM `drug` WHERE (name IS NOT NULL) AND (drug.retired = 0) [0m
Rendering template within layouts/application
Rendering drug/print_barcode
Completed in 148ms (View: 89, DB: 1) | 200 OK [http://localhost/drug/print_barcode]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#print_barcode (for 127.0.0.1 at 2011-10-27 15:02:01) [POST]
  Parameters: {"action"=>"print_barcode", "authenticity_token"=>"7Nk9SE6++i0DBvf5zJtOTqGXJJJQYWqnBR6+pCjZfbY=", "drug_id"=>"2", "controller"=>"drug", "pill_count"=>["1"]}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
Rendering template within layouts/application
Rendering print/print
Completed in 38ms (View: 1, DB: 1) | 200 OK [http://localhost/drug/print_barcode]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#print (for 127.0.0.1 at 2011-10-27 15:02:01) [GET]
  Parameters: {"quantity"=>"1", "action"=>"print", "drug_id"=>"2", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.1ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.1ms)[0m   [0mSELECT * FROM `drug` WHERE (`drug`.`drug_id` = 2) AND (drug.retired = 0) [0m

NameError (uninitialized constant DrugController::ZebraPrinter):
  app/controllers/drug_controller.rb:94:in `print'
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (44.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#print_barcode (for 127.0.0.1 at 2011-10-27 15:02:07) [GET]
  Parameters: {"action"=>"print_barcode", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.1ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.6ms)[0m   [0mSELECT * FROM `drug` WHERE (name IS NOT NULL) AND (drug.retired = 0) [0m
Rendering template within layouts/application
Rendering drug/print_barcode
Completed in 101ms (View: 46, DB: 1) | 200 OK [http://localhost/drug/print_barcode]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#print_barcode (for 127.0.0.1 at 2011-10-27 15:02:42) [POST]
  Parameters: {"action"=>"print_barcode", "authenticity_token"=>"7Nk9SE6++i0DBvf5zJtOTqGXJJJQYWqnBR6+pCjZfbY=", "drug_id"=>"5", "controller"=>"drug", "pill_count"=>["9"]}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
Rendering template within layouts/application
Rendering print/print
Completed in 42ms (View: 1, DB: 1) | 200 OK [http://localhost/drug/print_barcode]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#print (for 127.0.0.1 at 2011-10-27 15:02:42) [GET]
  Parameters: {"quantity"=>"9", "action"=>"print", "drug_id"=>"5", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.4ms)[0m   [0mSELECT * FROM `drug` WHERE (`drug`.`drug_id` = 5) AND (drug.retired = 0) [0m

NameError (uninitialized constant DrugController::ZebraPrinter):
  app/controllers/drug_controller.rb:94:in `print'
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (34.5ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#print_barcode (for 127.0.0.1 at 2011-10-27 15:02:48) [GET]
  Parameters: {"action"=>"print_barcode", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.7ms)[0m   [0mSELECT * FROM `drug` WHERE (name IS NOT NULL) AND (drug.retired = 0) [0m
Rendering template within layouts/application
Rendering drug/print_barcode
Completed in 116ms (View: 62, DB: 1) | 200 OK [http://localhost/drug/print_barcode]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#print_barcode (for 127.0.0.1 at 2011-10-27 15:17:55) [POST]
  Parameters: {"action"=>"print_barcode", "authenticity_token"=>"7Nk9SE6++i0DBvf5zJtOTqGXJJJQYWqnBR6+pCjZfbY=", "drug_id"=>"2", "controller"=>"drug", "pill_count"=>["2"]}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.1ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
Rendering template within layouts/application
Rendering print/print
Completed in 77ms (View: 1, DB: 1) | 200 OK [http://localhost/drug/print_barcode]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#print (for 127.0.0.1 at 2011-10-27 15:17:56) [GET]
  Parameters: {"quantity"=>"2", "action"=>"print", "drug_id"=>"2", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.2ms)[0m   [0mSELECT * FROM `drug` WHERE (`drug`.`drug_id` = 2) AND (drug.retired = 0) [0m

NameError (uninitialized constant DrugController::ZebraPrinter):
  app/controllers/drug_controller.rb:94:in `print'
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (34.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#print_barcode (for 127.0.0.1 at 2011-10-27 15:18:02) [GET]
  Parameters: {"action"=>"print_barcode", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.3ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.7ms)[0m   [0mSELECT * FROM `drug` WHERE (name IS NOT NULL) AND (drug.retired = 0) [0m
Rendering template within layouts/application
Rendering drug/print_barcode
Completed in 149ms (View: 41, DB: 1) | 200 OK [http://localhost/drug/print_barcode]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#print_barcode (for 127.0.0.1 at 2011-10-27 15:19:40) [GET]
  Parameters: {"action"=>"print_barcode", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.6ms)[0m   [0mSELECT * FROM `drug` WHERE (name IS NOT NULL) AND (drug.retired = 0) [0m
Rendering template within layouts/application
Rendering drug/print_barcode
Completed in 128ms (View: 57, DB: 1) | 200 OK [http://localhost/drug/print_barcode]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#print_barcode (for 127.0.0.1 at 2011-10-27 15:19:45) [POST]
  Parameters: {"action"=>"print_barcode", "authenticity_token"=>"7Nk9SE6++i0DBvf5zJtOTqGXJJJQYWqnBR6+pCjZfbY=", "drug_id"=>"3", "controller"=>"drug", "pill_count"=>["2"]}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
Rendering template within layouts/application
Rendering print/print
Completed in 40ms (View: 1, DB: 1) | 200 OK [http://localhost/drug/print_barcode]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#print (for 127.0.0.1 at 2011-10-27 15:19:46) [GET]
  Parameters: {"quantity"=>"2", "action"=>"print", "drug_id"=>"3", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.4ms)[0m   [0mSELECT * FROM `drug` WHERE (`drug`.`drug_id` = 3) AND (drug.retired = 0) [0m

NameError (uninitialized constant DrugController::ZebraPrinter):
  app/controllers/drug_controller.rb:94:in `print'
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (33.1ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#print_barcode (for 127.0.0.1 at 2011-10-27 15:19:52) [GET]
  Parameters: {"action"=>"print_barcode", "controller"=>"drug"}
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.6ms)[0m   [0mSELECT * FROM `drug` WHERE (name IS NOT NULL) AND (drug.retired = 0) [0m
Rendering template within layouts/application
Rendering drug/print_barcode
Completed in 155ms (View: 46, DB: 1) | 200 OK [http://localhost/drug/print_barcode]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#print_barcode (for 127.0.0.1 at 2011-10-27 15:20:10) [POST]
  Parameters: {"action"=>"print_barcode", "authenticity_token"=>"7Nk9SE6++i0DBvf5zJtOTqGXJJJQYWqnBR6+pCjZfbY=", "drug_id"=>"6", "controller"=>"drug", "pill_count"=>["30"]}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
Rendering template within layouts/application
Rendering print/print
Completed in 86ms (View: 19, DB: 1) | 200 OK [http://localhost/drug/print_barcode]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#print (for 127.0.0.1 at 2011-10-27 15:20:10) [GET]
  Parameters: {"quantity"=>"30", "action"=>"print", "drug_id"=>"6", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.4ms)[0m   [0mSELECT * FROM `drug` WHERE (`drug`.`drug_id` = 6) AND (drug.retired = 0) [0m
  [4;36;1mGlobalProperty Columns (36.3ms)[0m   [0;1mSHOW FIELDS FROM `global_property`[0m
  [4;35;1mGlobalProperty Load (0.3ms)[0m   [0mSELECT * FROM `global_property` WHERE (`global_property`.`property` = 'label_width_height') LIMIT 1[0m

RuntimeError ("in"):
  app/controllers/drug_controller.rb:106:in `print'
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendered rescues/_trace (33.5ms)
Rendered rescues/_request_and_response (1.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#print_barcode (for 127.0.0.1 at 2011-10-27 15:20:16) [GET]
  Parameters: {"action"=>"print_barcode", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.1ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.6ms)[0m   [0mSELECT * FROM `drug` WHERE (name IS NOT NULL) AND (drug.retired = 0) [0m
Rendering template within layouts/application
Rendering drug/print_barcode
Completed in 144ms (View: 44, DB: 1) | 200 OK [http://localhost/drug/print_barcode]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#print_barcode (for 127.0.0.1 at 2011-10-27 15:20:41) [POST]
  Parameters: {"action"=>"print_barcode", "authenticity_token"=>"7Nk9SE6++i0DBvf5zJtOTqGXJJJQYWqnBR6+pCjZfbY=", "drug_id"=>"9", "controller"=>"drug", "pill_count"=>["20"]}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
Rendering template within layouts/application
Rendering print/print
Completed in 41ms (View: 1, DB: 1) | 200 OK [http://localhost/drug/print_barcode]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#print (for 127.0.0.1 at 2011-10-27 15:20:41) [GET]
  Parameters: {"quantity"=>"20", "action"=>"print", "drug_id"=>"9", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.4ms)[0m   [0mSELECT * FROM `drug` WHERE (`drug`.`drug_id` = 9) AND (drug.retired = 0) [0m
  [4;36;1mGlobalProperty Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `global_property`[0m
  [4;35;1mGlobalProperty Load (0.1ms)[0m   [0mSELECT * FROM `global_property` WHERE (`global_property`.`property` = 'label_width_height') LIMIT 1[0m
Sending data 9-20.lbl
Completed in 64ms (View: 1, DB: 1) | 200 OK [http://localhost/drug/print?drug_id=9&quantity=20]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#print_barcode (for 127.0.0.1 at 2011-10-27 15:20:47) [GET]
  Parameters: {"action"=>"print_barcode", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.5ms)[0m   [0mSELECT * FROM `drug` WHERE (name IS NOT NULL) AND (drug.retired = 0) [0m
Rendering template within layouts/application
Rendering drug/print_barcode
Completed in 160ms (View: 49, DB: 1) | 200 OK [http://localhost/drug/print_barcode]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 15:21:07) [GET]
  Parameters: {"action"=>"index", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
Rendering template within layouts/menu
Rendering drug/index
Completed in 52ms (View: 13, DB: 1) | 200 OK [http://localhost/drug]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#date_select (for 127.0.0.1 at 2011-10-27 15:21:33) [GET]
  Parameters: {"action"=>"date_select", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
Rendering template within layouts/application
Rendering drug/date_select
Completed in 118ms (View: 5, DB: 1) | 200 OK [http://localhost/drug/date_select]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#stock_report (for 127.0.0.1 at 2011-10-27 15:21:38) [POST]
  Parameters: {"start_date"=>"2011-10-27", "action"=>"stock_report", "authenticity_token"=>"7Nk9SE6++i0DBvf5zJtOTqGXJJJQYWqnBR6+pCjZfbY=", "controller"=>"drug", "end_date"=>"2011-10-27"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `pharmacy_obs`[0m
  [4;35;1mPharmacy Load (0.1ms)[0m   [0mSELECT * FROM `pharmacy_obs` WHERE ((pharmacy_obs.voided = 0) AND (voided = 0)) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.2ms)[0m   [0mSELECT * FROM `drug` WHERE (drug_id IN (3)) AND (drug.retired = 0) [0m
Rendering template within layouts/menu
Rendering drug/stock_report
Completed in 74ms (View: 10, DB: 2) | 200 OK [http://localhost/drug/stock_report]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-10-27 15:21:38) [GET]

ActionController::RoutingError (No route matches "/javascripts/jquery_data_table.js" with {:method=>:get}):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-10-27 15:21:38) [GET]

ActionController::RoutingError (No route matches "/javascripts/jquery.dataTables.min" with {:method=>:get}):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-10-27 15:21:38) [GET]

ActionController::RoutingError (No route matches "/javascripts/jquery_data_table.js" with {:method=>:get}):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-10-27 15:21:38) [GET]

ActionController::RoutingError (No route matches "/javascripts/jquery.dataTables.min" with {:method=>:get}):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 15:22:51) [GET]
  Parameters: {"action"=>"index", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
Rendering template within layouts/menu
Rendering drug/index
Completed in 42ms (View: 1, DB: 1) | 200 OK [http://localhost/drug]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#date_select (for 127.0.0.1 at 2011-10-27 15:22:54) [GET]
  Parameters: {"action"=>"date_select", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
Rendering template within layouts/application
Rendering drug/date_select
Completed in 45ms (View: 1, DB: 1) | 200 OK [http://localhost/drug/date_select]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#stock_report (for 127.0.0.1 at 2011-10-27 15:23:00) [POST]
  Parameters: {"start_date"=>"2011-10-26", "action"=>"stock_report", "authenticity_token"=>"7Nk9SE6++i0DBvf5zJtOTqGXJJJQYWqnBR6+pCjZfbY=", "controller"=>"drug", "end_date"=>"2011-10-27"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `pharmacy_obs`[0m
  [4;35;1mPharmacy Load (0.1ms)[0m   [0mSELECT * FROM `pharmacy_obs` WHERE ((pharmacy_obs.voided = 0) AND (voided = 0)) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.2ms)[0m   [0mSELECT * FROM `drug` WHERE (drug_id IN (3)) AND (drug.retired = 0) [0m
Rendering template within layouts/menu
Rendering drug/stock_report
Completed in 112ms (View: 3, DB: 2) | 200 OK [http://localhost/drug/stock_report]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-10-27 15:23:00) [GET]

ActionController::RoutingError (No route matches "/javascripts/jquery_data_table.js" with {:method=>:get}):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-10-27 15:23:00) [GET]

ActionController::RoutingError (No route matches "/javascripts/jquery.dataTables.min" with {:method=>:get}):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-10-27 15:23:00) [GET]

ActionController::RoutingError (No route matches "/javascripts/jquery_data_table.js" with {:method=>:get}):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-10-27 15:23:00) [GET]

ActionController::RoutingError (No route matches "/javascripts/jquery.dataTables.min" with {:method=>:get}):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mSQL (2.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mDrug Load (0.9ms)[0m   [0;1mSELECT * FROM `drug` WHERE (drug.retired = 0) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPharmacy Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `pharmacy_obs`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mPharmacy Load (0.2ms)[0m   [0mSELECT * FROM `pharmacy_obs` WHERE ((pharmacy_obs.voided = 0) AND (voided = 0)) [0m
  [4;36;1mPharmacy Load (0.1ms)[0m   [0;1mSELECT * FROM `pharmacy_obs` WHERE ((pharmacy_obs.voided = 0) AND (voided = 0)) [0m
  [4;35;1mPharmacy Load (0.2ms)[0m   [0mSELECT * FROM `pharmacy_obs` WHERE ((pharmacy_obs.voided = 0) AND (voided = 0)) [0m
  [4;36;1mPharmacy Load (0.2ms)[0m   [0;1mSELECT * FROM `pharmacy_obs` WHERE ((pharmacy_obs.voided = 0) AND (voided = 0)) [0m
  [4;35;1mPharmacy Load (0.2ms)[0m   [0mSELECT * FROM `pharmacy_obs` WHERE ((pharmacy_obs.voided = 0) AND (voided = 0)) [0m
  [4;36;1mDrug Load (0.1ms)[0m   [0;1mSELECT * FROM `drug` WHERE (drug_id IN (3)) AND (drug.retired = 0) [0m
  [4;35;1mDrug Load (0.2ms)[0m   [0mSELECT * FROM `drug` WHERE (`drug`.`drug_id` = 3) AND (drug.retired = 0) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 15:35:58) [GET]
  Parameters: {"action"=>"index", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
Rendering template within layouts/menu
Rendering drug/index
Completed in 38ms (View: 1, DB: 1) | 200 OK [http://localhost/drug]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#delivery (for 127.0.0.1 at 2011-10-27 15:36:07) [GET]
  Parameters: {"action"=>"delivery", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.7ms)[0m   [0mSELECT * FROM `drug` WHERE (drug.retired = 0) [0m
Rendering template within layouts/application
Rendering drug/delivery
Completed in 85ms (View: 20, DB: 1) | 200 OK [http://localhost/drug/delivery]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#name (for 127.0.0.1 at 2011-10-27 15:36:07) [GET]
  Parameters: {"search_string"=>"", "action"=>"name", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.5ms)[0m   [0mSELECT * FROM `drug` WHERE (name LIKE '%%') AND (drug.retired = 0) [0m
Completed in 112ms (View: 1, DB: 1) | 200 OK [http://localhost/drug/name?search_string=]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#delivery (for 127.0.0.1 at 2011-10-27 15:37:35) [GET]
  Parameters: {"action"=>"delivery", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.6ms)[0m   [0mSELECT * FROM `drug` WHERE (drug.retired = 0) [0m
Rendering template within layouts/application
Rendering drug/delivery
Completed in 92ms (View: 16, DB: 1) | 200 OK [http://localhost/drug/delivery]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#name (for 127.0.0.1 at 2011-10-27 15:37:35) [GET]
  Parameters: {"search_string"=>"d4T (Stavudine 30mg tablet)", "action"=>"name", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.2ms)[0m   [0mSELECT * FROM `drug` WHERE (name LIKE '%d4T (Stavudine 30mg tablet)%') AND (drug.retired = 0) [0m
Completed in 121ms (View: 1, DB: 1) | 200 OK [http://localhost/drug/name?search_string=d4T%20(Stavudine%2030mg%20tablet)]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#delivery (for 127.0.0.1 at 2011-10-27 15:40:41) [GET]
  Parameters: {"action"=>"delivery", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (1.1ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.5ms)[0m   [0mSELECT * FROM `drug` WHERE (drug.retired = 0) [0m
Rendering template within layouts/application
Rendering drug/delivery
Completed in 74ms (View: 14, DB: 1) | 200 OK [http://localhost/drug/delivery]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#name (for 127.0.0.1 at 2011-10-27 15:40:42) [GET]
  Parameters: {"search_string"=>"d4T (Stavudine 30mg tablet)", "action"=>"name", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.2ms)[0m   [0mSELECT * FROM `drug` WHERE (name LIKE '%d4T (Stavudine 30mg tablet)%') AND (drug.retired = 0) [0m
Completed in 116ms (View: 1, DB: 1) | 200 OK [http://localhost/drug/name?search_string=d4T%20(Stavudine%2030mg%20tablet)]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#delivery (for 127.0.0.1 at 2011-10-27 15:41:29) [GET]
  Parameters: {"action"=>"delivery", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.1ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.5ms)[0m   [0mSELECT * FROM `drug` WHERE (drug.retired = 0) [0m
Rendering template within layouts/application
Rendering drug/delivery
Completed in 85ms (View: 14, DB: 3) | 200 OK [http://localhost/drug/delivery]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#name (for 127.0.0.1 at 2011-10-27 15:41:30) [GET]
  Parameters: {"search_string"=>"d4T (Stavudine 30mg tablet)", "action"=>"name", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.2ms)[0m   [0mSELECT * FROM `drug` WHERE (name LIKE '%d4T (Stavudine 30mg tablet)%') AND (drug.retired = 0) [0m
Completed in 115ms (View: 1, DB: 1) | 200 OK [http://localhost/drug/name?search_string=d4T%20(Stavudine%2030mg%20tablet)]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#delivery (for 127.0.0.1 at 2011-10-27 15:41:31) [GET]
  Parameters: {"action"=>"delivery", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.5ms)[0m   [0mSELECT * FROM `drug` WHERE (drug.retired = 0) [0m
Rendering template within layouts/application
Rendering drug/delivery
Completed in 84ms (View: 16, DB: 1) | 200 OK [http://localhost/drug/delivery]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#name (for 127.0.0.1 at 2011-10-27 15:41:31) [GET]
  Parameters: {"search_string"=>"d4T (Stavudine 30mg tablet)", "action"=>"name", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.2ms)[0m   [0mSELECT * FROM `drug` WHERE (name LIKE '%d4T (Stavudine 30mg tablet)%') AND (drug.retired = 0) [0m
Completed in 115ms (View: 1, DB: 1) | 200 OK [http://localhost/drug/name?search_string=d4T%20(Stavudine%2030mg%20tablet)]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#delivery (for 127.0.0.1 at 2011-10-27 15:41:58) [GET]
  Parameters: {"action"=>"delivery", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.9ms)[0m   [0mSELECT * FROM `drug` WHERE (drug.retired = 0) [0m
Rendering template within layouts/application
Rendering drug/delivery
Completed in 114ms (View: 16, DB: 26) | 200 OK [http://localhost/drug/delivery]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#name (for 127.0.0.1 at 2011-10-27 15:41:59) [GET]
  Parameters: {"search_string"=>"d4T (Stavudine 30mg tablet)", "action"=>"name", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.2ms)[0m   [0mSELECT * FROM `drug` WHERE (name LIKE '%d4T (Stavudine 30mg tablet)%') AND (drug.retired = 0) [0m
Completed in 112ms (View: 1, DB: 1) | 200 OK [http://localhost/drug/name?search_string=d4T%20(Stavudine%2030mg%20tablet)]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#delivery (for 127.0.0.1 at 2011-10-27 15:42:22) [GET]
  Parameters: {"action"=>"delivery", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.5ms)[0m   [0mSELECT * FROM `drug` WHERE (drug.retired = 0) [0m
Rendering template within layouts/application
Rendering drug/delivery
Completed in 85ms (View: 16, DB: 1) | 200 OK [http://localhost/drug/delivery]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#name (for 127.0.0.1 at 2011-10-27 15:42:23) [GET]
  Parameters: {"search_string"=>"d4T (Stavudine 30mg tablet)", "action"=>"name", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.2ms)[0m   [0mSELECT * FROM `drug` WHERE (name LIKE '%d4T (Stavudine 30mg tablet)%') AND (drug.retired = 0) [0m
Completed in 109ms (View: 1, DB: 1) | 200 OK [http://localhost/drug/name?search_string=d4T%20(Stavudine%2030mg%20tablet)]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#delivery (for 127.0.0.1 at 2011-10-27 15:42:41) [GET]
  Parameters: {"action"=>"delivery", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.6ms)[0m   [0mSELECT * FROM `drug` WHERE (drug.retired = 0) [0m
Rendering template within layouts/application
Rendering drug/delivery
Completed in 79ms (View: 15, DB: 1) | 200 OK [http://localhost/drug/delivery]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#name (for 127.0.0.1 at 2011-10-27 15:42:41) [GET]
  Parameters: {"search_string"=>"d4T (Stavudine 30mg tablet)", "action"=>"name", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.2ms)[0m   [0mSELECT * FROM `drug` WHERE (name LIKE '%d4T (Stavudine 30mg tablet)%') AND (drug.retired = 0) [0m
Completed in 111ms (View: 1, DB: 1) | 200 OK [http://localhost/drug/name?search_string=d4T%20(Stavudine%2030mg%20tablet)]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#delivery (for 127.0.0.1 at 2011-10-27 15:43:03) [GET]
  Parameters: {"action"=>"delivery", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.6ms)[0m   [0mSELECT * FROM `drug` WHERE (drug.retired = 0) [0m
Rendering template within layouts/application
Rendering drug/delivery
Completed in 82ms (View: 15, DB: 1) | 200 OK [http://localhost/drug/delivery]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#name (for 127.0.0.1 at 2011-10-27 15:43:04) [GET]
  Parameters: {"search_string"=>"d4T (Stavudine 30mg tablet)", "action"=>"name", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.1ms)[0m   [0mSELECT * FROM `drug` WHERE (name LIKE '%d4T (Stavudine 30mg tablet)%') AND (drug.retired = 0) [0m
Completed in 117ms (View: 1, DB: 1) | 200 OK [http://localhost/drug/name?search_string=d4T%20(Stavudine%2030mg%20tablet)]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#name (for 127.0.0.1 at 2011-10-27 15:43:11) [GET]
  Parameters: {"search_string"=>"d4T (Stavudine 30mg tablet)", "action"=>"name", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (3.8ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.2ms)[0m   [0mSELECT * FROM `drug` WHERE (name LIKE '%d4T (Stavudine 30mg tablet)%') AND (drug.retired = 0) [0m
Completed in 57ms (View: 1, DB: 1) | 200 OK [http://localhost/drug/name?search_string=d4T%20(Stavudine%2030mg%20tablet)]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#delivery (for 127.0.0.1 at 2011-10-27 15:45:05) [GET]
  Parameters: {"action"=>"delivery", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.5ms)[0m   [0mSELECT * FROM `drug` WHERE (drug.retired = 0) [0m
Rendering template within layouts/application
Rendering drug/delivery
Completed in 133ms (View: 21, DB: 1) | 200 OK [http://localhost/drug/delivery]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#name (for 127.0.0.1 at 2011-10-27 15:45:06) [GET]
  Parameters: {"search_string"=>"d4T (Stavudine 30mg tablet)", "action"=>"name", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.2ms)[0m   [0mSELECT * FROM `drug` WHERE (name LIKE '%d4T (Stavudine 30mg tablet)%') AND (drug.retired = 0) [0m
Completed in 63ms (View: 1, DB: 3) | 200 OK [http://localhost/drug/name?search_string=d4T%20(Stavudine%2030mg%20tablet)]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#delivery (for 127.0.0.1 at 2011-10-27 15:50:50) [GET]
  Parameters: {"action"=>"delivery", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.1ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.6ms)[0m   [0mSELECT * FROM `drug` WHERE (drug.retired = 0) [0m
Rendering template within layouts/application
Rendering drug/delivery
Completed in 134ms (View: 24, DB: 1) | 200 OK [http://localhost/drug/delivery]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#name (for 127.0.0.1 at 2011-10-27 15:50:50) [GET]
  Parameters: {"search_string"=>"d4T (Stavudine 30mg tablet)", "action"=>"name", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.1ms)[0m   [0mSELECT * FROM `drug` WHERE (name LIKE '%d4T (Stavudine 30mg tablet)%') AND (drug.retired = 0) [0m
Completed in 59ms (View: 1, DB: 1) | 200 OK [http://localhost/drug/name?search_string=d4T%20(Stavudine%2030mg%20tablet)]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#delivery (for 127.0.0.1 at 2011-10-27 15:51:45) [GET]
  Parameters: {"action"=>"delivery", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (4.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.5ms)[0m   [0mSELECT * FROM `drug` WHERE (drug.retired = 0) [0m
Rendering template within layouts/application
Rendering drug/delivery
Completed in 140ms (View: 17, DB: 1) | 200 OK [http://localhost/drug/delivery]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#name (for 127.0.0.1 at 2011-10-27 15:51:46) [GET]
  Parameters: {"search_string"=>"d4T (Stavudine 30mg tablet)", "action"=>"name", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.2ms)[0m   [0mSELECT * FROM `drug` WHERE (name LIKE '%d4T (Stavudine 30mg tablet)%') AND (drug.retired = 0) [0m
Completed in 62ms (View: 1, DB: 1) | 200 OK [http://localhost/drug/name?search_string=d4T%20(Stavudine%2030mg%20tablet)]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#delivery (for 127.0.0.1 at 2011-10-27 15:51:47) [GET]
  Parameters: {"action"=>"delivery", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.7ms)[0m   [0mSELECT * FROM `drug` WHERE (drug.retired = 0) [0m
Rendering template within layouts/application
Rendering drug/delivery
Completed in 129ms (View: 16, DB: 1) | 200 OK [http://localhost/drug/delivery]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#name (for 127.0.0.1 at 2011-10-27 15:51:48) [GET]
  Parameters: {"search_string"=>"d4T (Stavudine 30mg tablet)", "action"=>"name", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.1ms)[0m   [0mSELECT * FROM `drug` WHERE (name LIKE '%d4T (Stavudine 30mg tablet)%') AND (drug.retired = 0) [0m
Completed in 67ms (View: 1, DB: 1) | 200 OK [http://localhost/drug/name?search_string=d4T%20(Stavudine%2030mg%20tablet)]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#delivery (for 127.0.0.1 at 2011-10-27 15:52:41) [GET]
  Parameters: {"action"=>"delivery", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.6ms)[0m   [0mSELECT * FROM `drug` WHERE (drug.retired = 0) [0m
Rendering template within layouts/application
Rendering drug/delivery
Completed in 127ms (View: 16, DB: 1) | 200 OK [http://localhost/drug/delivery]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#name (for 127.0.0.1 at 2011-10-27 15:52:42) [GET]
  Parameters: {"search_string"=>"d4T (Stavudine 30mg tablet)", "action"=>"name", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.2ms)[0m   [0mSELECT * FROM `drug` WHERE (name LIKE '%d4T (Stavudine 30mg tablet)%') AND (drug.retired = 0) [0m
Completed in 78ms (View: 1, DB: 1) | 200 OK [http://localhost/drug/name?search_string=d4T%20(Stavudine%2030mg%20tablet)]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#delivery (for 127.0.0.1 at 2011-10-27 15:52:44) [GET]
  Parameters: {"action"=>"delivery", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.5ms)[0m   [0mSELECT * FROM `drug` WHERE (drug.retired = 0) [0m
Rendering template within layouts/application
Rendering drug/delivery
Completed in 135ms (View: 19, DB: 1) | 200 OK [http://localhost/drug/delivery]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#name (for 127.0.0.1 at 2011-10-27 15:52:45) [GET]
  Parameters: {"search_string"=>"d4T (Stavudine 30mg tablet)", "action"=>"name", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.2ms)[0m   [0mSELECT * FROM `drug` WHERE (name LIKE '%d4T (Stavudine 30mg tablet)%') AND (drug.retired = 0) [0m
Completed in 60ms (View: 1, DB: 1) | 200 OK [http://localhost/drug/name?search_string=d4T%20(Stavudine%2030mg%20tablet)]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#delivery (for 127.0.0.1 at 2011-10-27 15:54:24) [GET]
  Parameters: {"action"=>"delivery", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.7ms)[0m   [0mSELECT * FROM `drug` WHERE (drug.retired = 0) [0m
Rendering template within layouts/application
Rendering drug/delivery
Completed in 131ms (View: 16, DB: 1) | 200 OK [http://localhost/drug/delivery]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#name (for 127.0.0.1 at 2011-10-27 15:54:25) [GET]
  Parameters: {"search_string"=>"d4T (Stavudine 30mg tablet)", "action"=>"name", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.1ms)[0m   [0mSELECT * FROM `drug` WHERE (name LIKE '%d4T (Stavudine 30mg tablet)%') AND (drug.retired = 0) [0m
Completed in 65ms (View: 1, DB: 1) | 200 OK [http://localhost/drug/name?search_string=d4T%20(Stavudine%2030mg%20tablet)]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#name (for 127.0.0.1 at 2011-10-27 15:54:27) [GET]
  Parameters: {"search_string"=>"d4T (Stavudine 30mg tablet)", "action"=>"name", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.2ms)[0m   [0mSELECT * FROM `drug` WHERE (name LIKE '%d4T (Stavudine 30mg tablet)%') AND (drug.retired = 0) [0m
Completed in 101ms (View: 1, DB: 1) | 200 OK [http://localhost/drug/name?search_string=d4T%20(Stavudine%2030mg%20tablet)]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#delivery (for 127.0.0.1 at 2011-10-27 15:54:55) [GET]
  Parameters: {"action"=>"delivery", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.4ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.6ms)[0m   [0mSELECT * FROM `drug` WHERE (drug.retired = 0) [0m
Rendering template within layouts/application
Rendering drug/delivery
Completed in 77ms (View: 15, DB: 1) | 200 OK [http://localhost/drug/delivery]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#name (for 127.0.0.1 at 2011-10-27 15:54:56) [GET]
  Parameters: {"search_string"=>"d4T (Stavudine 30mg tablet)", "action"=>"name", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.3ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.1ms)[0m   [0mSELECT * FROM `drug` WHERE (name LIKE '%d4T (Stavudine 30mg tablet)%') AND (drug.retired = 0) [0m
Completed in 140ms (View: 1, DB: 1) | 200 OK [http://localhost/drug/name?search_string=d4T%20(Stavudine%2030mg%20tablet)]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#delivery (for 127.0.0.1 at 2011-10-27 15:55:32) [GET]
  Parameters: {"action"=>"delivery", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.7ms)[0m   [0mSELECT * FROM `drug` WHERE (drug.retired = 0) [0m
Rendering template within layouts/application
Rendering drug/delivery
Completed in 78ms (View: 15, DB: 1) | 200 OK [http://localhost/drug/delivery]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#name (for 127.0.0.1 at 2011-10-27 15:55:33) [GET]
  Parameters: {"search_string"=>"d4T (Stavudine 30mg tablet)", "action"=>"name", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (5.1ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.1ms)[0m   [0mSELECT * FROM `drug` WHERE (name LIKE '%d4T (Stavudine 30mg tablet)%') AND (drug.retired = 0) [0m
Completed in 132ms (View: 1, DB: 1) | 200 OK [http://localhost/drug/name?search_string=d4T%20(Stavudine%2030mg%20tablet)]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#delivery (for 127.0.0.1 at 2011-10-27 15:56:01) [GET]
  Parameters: {"action"=>"delivery", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.6ms)[0m   [0mSELECT * FROM `drug` WHERE (drug.retired = 0) [0m
Rendering template within layouts/application
Rendering drug/delivery
Completed in 83ms (View: 15, DB: 3) | 200 OK [http://localhost/drug/delivery]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#name (for 127.0.0.1 at 2011-10-27 15:56:02) [GET]
  Parameters: {"search_string"=>"d4T (Stavudine 30mg tablet)", "action"=>"name", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.1ms)[0m   [0mSELECT * FROM `drug` WHERE (name LIKE '%d4T (Stavudine 30mg tablet)%') AND (drug.retired = 0) [0m
Completed in 116ms (View: 1, DB: 1) | 200 OK [http://localhost/drug/name?search_string=d4T%20(Stavudine%2030mg%20tablet)]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#delivery (for 127.0.0.1 at 2011-10-27 15:56:03) [GET]
  Parameters: {"action"=>"delivery", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.7ms)[0m   [0mSELECT * FROM `drug` WHERE (drug.retired = 0) [0m
Rendering template within layouts/application
Rendering drug/delivery
Completed in 81ms (View: 16, DB: 1) | 200 OK [http://localhost/drug/delivery]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#name (for 127.0.0.1 at 2011-10-27 15:56:04) [GET]
  Parameters: {"search_string"=>"d4T (Stavudine 30mg tablet)", "action"=>"name", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.2ms)[0m   [0mSELECT * FROM `drug` WHERE (name LIKE '%d4T (Stavudine 30mg tablet)%') AND (drug.retired = 0) [0m
Completed in 122ms (View: 1, DB: 1) | 200 OK [http://localhost/drug/name?search_string=d4T%20(Stavudine%2030mg%20tablet)]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#delivery (for 127.0.0.1 at 2011-10-27 15:57:42) [GET]
  Parameters: {"action"=>"delivery", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.3ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.9ms)[0m   [0mSELECT * FROM `drug` WHERE (drug.retired = 0) [0m
Rendering template within layouts/application
Rendering drug/delivery
Completed in 83ms (View: 15, DB: 3) | 200 OK [http://localhost/drug/delivery]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#name (for 127.0.0.1 at 2011-10-27 15:57:43) [GET]
  Parameters: {"search_string"=>"d4T (Stavudine 30mg tablet)", "action"=>"name", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.3ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.1ms)[0m   [0mSELECT * FROM `drug` WHERE (name LIKE '%d4T (Stavudine 30mg tablet)%') AND (drug.retired = 0) [0m
Completed in 116ms (View: 1, DB: 4) | 200 OK [http://localhost/drug/name?search_string=d4T%20(Stavudine%2030mg%20tablet)]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#delivery (for 127.0.0.1 at 2011-10-27 15:58:34) [GET]
  Parameters: {"action"=>"delivery", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.7ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.5ms)[0m   [0mSELECT * FROM `drug` WHERE (drug.retired = 0) [0m
Rendering template within layouts/application
Rendering drug/delivery
Completed in 81ms (View: 15, DB: 1) | 200 OK [http://localhost/drug/delivery]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#name (for 127.0.0.1 at 2011-10-27 15:58:36) [GET]
  Parameters: {"search_string"=>"d4T (Stavudine 30mg tablet)", "action"=>"name", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (2.8ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.2ms)[0m   [0mSELECT * FROM `drug` WHERE (name LIKE '%d4T (Stavudine 30mg tablet)%') AND (drug.retired = 0) [0m
Completed in 135ms (View: 1, DB: 1) | 200 OK [http://localhost/drug/name?search_string=d4T%20(Stavudine%2030mg%20tablet)]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#delivery (for 127.0.0.1 at 2011-10-27 15:58:38) [GET]
  Parameters: {"action"=>"delivery", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.6ms)[0m   [0mSELECT * FROM `drug` WHERE (drug.retired = 0) [0m
Rendering template within layouts/application
Rendering drug/delivery
Completed in 76ms (View: 16, DB: 1) | 200 OK [http://localhost/drug/delivery]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#name (for 127.0.0.1 at 2011-10-27 15:58:39) [GET]
  Parameters: {"search_string"=>"d4T (Stavudine 30mg tablet)", "action"=>"name", "controller"=>"drug"}
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.2ms)[0m   [0mSELECT * FROM `drug` WHERE (name LIKE '%d4T (Stavudine 30mg tablet)%') AND (drug.retired = 0) [0m
Completed in 115ms (View: 1, DB: 1) | 200 OK [http://localhost/drug/name?search_string=d4T%20(Stavudine%2030mg%20tablet)]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#delivery (for 127.0.0.1 at 2011-10-27 15:59:21) [GET]
  Parameters: {"action"=>"delivery", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.6ms)[0m   [0mSELECT * FROM `drug` WHERE (drug.retired = 0) [0m
Rendering template within layouts/application
Rendering drug/delivery
Completed in 76ms (View: 15, DB: 1) | 200 OK [http://localhost/drug/delivery]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#name (for 127.0.0.1 at 2011-10-27 15:59:22) [GET]
  Parameters: {"search_string"=>"d4T (Stavudine 30mg tablet)", "action"=>"name", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.1ms)[0m   [0mSELECT * FROM `drug` WHERE (name LIKE '%d4T (Stavudine 30mg tablet)%') AND (drug.retired = 0) [0m
Completed in 122ms (View: 1, DB: 1) | 200 OK [http://localhost/drug/name?search_string=d4T%20(Stavudine%2030mg%20tablet)]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#delivery (for 127.0.0.1 at 2011-10-27 16:00:14) [GET]
  Parameters: {"action"=>"delivery", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.1ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.6ms)[0m   [0mSELECT * FROM `drug` WHERE (drug.retired = 0) [0m
Rendering template within layouts/application
Rendering drug/delivery
Completed in 77ms (View: 15, DB: 1) | 200 OK [http://localhost/drug/delivery]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#name (for 127.0.0.1 at 2011-10-27 16:00:15) [GET]
  Parameters: {"search_string"=>"d4T (Stavudine 30mg tablet)", "action"=>"name", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.2ms)[0m   [0mSELECT * FROM `drug` WHERE (name LIKE '%d4T (Stavudine 30mg tablet)%') AND (drug.retired = 0) [0m
Completed in 131ms (View: 1, DB: 1) | 200 OK [http://localhost/drug/name?search_string=d4T%20(Stavudine%2030mg%20tablet)]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#create_stock (for 127.0.0.1 at 2011-10-27 16:00:32) [POST]
  Parameters: {"drug_name"=>"d4T (Stavudine 30mg tablet)", "number_of_tins"=>"500", "action"=>"create_stock", "authenticity_token"=>"7Nk9SE6++i0DBvf5zJtOTqGXJJJQYWqnBR6+pCjZfbY=", "number_of_pills_per_tin"=>"10", "controller"=>"drug", "observations"=>[{"value_coded"=>"", "value_datetime"=>"2011-10-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"-614003148", "value_drug"=>"", "concept_name"=>"delivery_date", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"2011-10-27T16:00:14+02:00", "value_numeric"=>"", "value_coded_or_text"=>""}, {"value_coded"=>"", "value_datetime"=>"2011-11-27", "order_id"=>"", "obs_group_id"=>"", "patient_id"=>"-614104738", "value_drug"=>"", "concept_name"=>"expiry_date", "value_boolean"=>"", "value_coded_or_text_multiple"=>[""], "value_text"=>"", "value_modifier"=>"", "obs_datetime"=>"2011-10-27T16:00:14+02:00", "value_numeric"=>"", "value_coded_or_text"=>""}]}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.1ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.4ms)[0m   [0mSELECT * FROM `drug` WHERE (`drug`.`name` = 'd4T (Stavudine 30mg tablet)') AND (drug.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `pharmacy_obs`[0m
  [4;35;1mPharmacyEncounterType Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `pharmacy_encounter_type`[0m
  [4;36;1mPharmacyEncounterType Load (0.1ms)[0m   [0;1mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mPerson Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `person`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPersonName Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `person_name`[0m
  [4;36;1mPharmacy Create (57.8ms)[0m   [0;1mINSERT INTO `pharmacy_obs` (`value_coded`, `voided`, `changed_by`, `creator`, `encounter_date`, `voided_by`, `drug_id`, `expiry_date`, `date_voided`, `void_reason`, `value_text`, `date_changed`, `pharmacy_encounter_type`, `value_numeric`, `date_created`) VALUES(NULL, 0, 1, 1, '2011-10-27', NULL, 5, '2011-11-27', NULL, NULL, NULL, '2011-10-27 16:00:32', 2, 5000.0, '2011-10-27 16:00:32')[0m
  [4;35;1mSQL (41.8ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3003/drug
Completed in 195ms (DB: 102) | 302 Found [http://localhost/drug/create_stock]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 16:00:32) [GET]
  Parameters: {"action"=>"index", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
Rendering template within layouts/menu
Rendering drug/index
Completed in 83ms (View: 1, DB: 1) | 200 OK [http://localhost/drug]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#date_select (for 127.0.0.1 at 2011-10-27 16:00:35) [GET]
  Parameters: {"action"=>"date_select", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
Rendering template within layouts/application
Rendering drug/date_select
Completed in 55ms (View: 7, DB: 1) | 200 OK [http://localhost/drug/date_select]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#stock_report (for 127.0.0.1 at 2011-10-27 16:00:52) [POST]
  Parameters: {"start_date"=>"2011-10-26", "action"=>"stock_report", "authenticity_token"=>"7Nk9SE6++i0DBvf5zJtOTqGXJJJQYWqnBR6+pCjZfbY=", "controller"=>"drug", "end_date"=>"2012-10-27"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `pharmacy_obs`[0m
  [4;35;1mPharmacy Load (0.4ms)[0m   [0mSELECT * FROM `pharmacy_obs` WHERE ((pharmacy_obs.voided = 0) AND (voided = 0)) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.4ms)[0m   [0mSELECT * FROM `drug` WHERE (drug_id IN (3,5)) AND (drug.retired = 0) [0m
Rendering template within layouts/menu
Rendering drug/stock_report
Completed in 63ms (View: 2, DB: 2) | 200 OK [http://localhost/drug/stock_report]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-10-27 16:00:52) [GET]

ActionController::RoutingError (No route matches "/javascripts/jquery_data_table.js" with {:method=>:get}):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-10-27 16:00:52) [GET]

ActionController::RoutingError (No route matches "/javascripts/jquery.dataTables.min" with {:method=>:get}):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-10-27 16:00:52) [GET]

ActionController::RoutingError (No route matches "/javascripts/jquery_data_table.js" with {:method=>:get}):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-10-27 16:00:52) [GET]

ActionController::RoutingError (No route matches "/javascripts/jquery.dataTables.min" with {:method=>:get}):
  /usr/lib/ruby/1.8/mongrel.rb:159:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `each'
  /usr/lib/ruby/1.8/mongrel.rb:158:in `process_client'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:285:in `run'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `initialize'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `new'
  /usr/lib/ruby/1.8/mongrel.rb:268:in `run'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 16:00:59) [GET]
  Parameters: {"action"=>"index", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.1ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
Rendering template within layouts/menu
Rendering drug/index
Completed in 46ms (View: 1, DB: 1) | 200 OK [http://localhost/drug]
  [4;36;1mPharmacy Load (0.2ms)[0m   [0;1mSELECT * FROM `pharmacy_obs` WHERE ((pharmacy_obs.voided = 0) AND (voided = 0)) [0m
  [4;35;1mDrug Load (0.1ms)[0m   [0mSELECT * FROM `drug` WHERE (drug_id IN (3,5)) AND (drug.retired = 0) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#date_select (for 127.0.0.1 at 2011-10-27 16:02:46) [GET]
  Parameters: {"action"=>"date_select", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
Rendering template within layouts/application
Rendering drug/date_select
Completed in 42ms (View: 2, DB: 1) | 200 OK [http://localhost/drug/date_select]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#stock_report (for 127.0.0.1 at 2011-10-27 16:02:53) [POST]
  Parameters: {"start_date"=>"2011-10-27", "action"=>"stock_report", "authenticity_token"=>"7Nk9SE6++i0DBvf5zJtOTqGXJJJQYWqnBR6+pCjZfbY=", "controller"=>"drug", "end_date"=>"2011-11-27"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `pharmacy_obs`[0m
  [4;35;1mPharmacy Load (0.1ms)[0m   [0mSELECT * FROM `pharmacy_obs` WHERE ((pharmacy_obs.voided = 0) AND (voided = 0)) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.1ms)[0m   [0mSELECT * FROM `drug` WHERE (drug_id IN (3,5)) AND (drug.retired = 0) [0m
Rendering template within layouts/menu
Rendering drug/stock_report
Completed in 69ms (View: 3, DB: 2) | 200 OK [http://localhost/drug/stock_report]
  [4;36;1mDrug Load (0.2ms)[0m   [0;1mSELECT * FROM `drug` WHERE (drug_id IN (3,5)) AND (drug.retired = 0) [0m
  [4;35;1mDrug Load (0.2ms)[0m   [0mSELECT * FROM `drug` WHERE (drug_id IN (3,5)) AND (drug.retired = 0) [0m
  [4;36;1mDrug Load (0.2ms)[0m   [0;1mSELECT * FROM `drug` WHERE (`drug`.`drug_id` = 3) AND (drug.retired = 0) [0m
  [4;35;1mDrug Load (0.2ms)[0m   [0mSELECT * FROM `drug` WHERE (`drug`.`drug_id` = 5) AND (drug.retired = 0) [0m
  [4;36;1mSQL (19.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mPharmacyEncounterType Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `pharmacy_encounter_type`[0m
  [4;36;1mPharmacyEncounterType Load (0.1ms)[0m   [0;1mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mPharmacy Load (0.4ms)[0m   [0mSELECT * FROM `pharmacy_obs` WHERE (drug_id=5 AND pharmacy_encounter_type=2) AND ((pharmacy_obs.voided = 0) AND (voided = 0)) ORDER BY encounter_date ASC,date_created ASC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mPharmacy Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `pharmacy_obs`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mPharmacy Load (0.2ms)[0m   [0;1mSELECT * FROM `pharmacy_obs` WHERE ((pharmacy_obs.voided = 0) AND (voided = 0)) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mDrug Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `drug`[0m
  [4;36;1mDrug Load (0.1ms)[0m   [0;1mSELECT * FROM `drug` WHERE (`drug`.`drug_id` = 5) AND (drug.retired = 0) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mEncounterType Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `encounter_type`[0m
  [4;36;1mEncounterType Load (0.5ms)[0m   [0;1mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'TREATMENT') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.2ms)[0m   [0mSELECT * FROM `drug` WHERE (`drug`.`drug_id` = 5) AND (drug.retired = 0) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mPharmacy Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `pharmacy_obs`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mEncounterType Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `encounter_type`[0m
  [4;36;1mEncounterType Load (0.2ms)[0m   [0;1mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'TREATMENT') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mDrugOrder Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `drug_order`[0m
  [4;36;1mDrugOrder Load (0.5ms)[0m   [0;1mSELECT `drug_order`.* FROM `drug_order` INNER JOIN orders ON drug_order.order_id = orders.order_id
 INNER JOIN encounter e ON e.encounter_id = orders.encounter_id WHERE (encounter_type = 25 AND drug_inventory_id = 5
 AND encounter_datetime >= '2011-10-26 00:00:00' AND encounter_datetime <= '2011-10-27 23:59:59') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#stock_report (for 127.0.0.1 at 2011-10-27 16:14:51) [POST]
  Parameters: {"start_date"=>"2011-10-27", "action"=>"stock_report", "authenticity_token"=>"7Nk9SE6++i0DBvf5zJtOTqGXJJJQYWqnBR6+pCjZfbY=", "controller"=>"drug", "end_date"=>"2011-11-27"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (3.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.4ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `pharmacy_obs`[0m
  [4;35;1mPharmacy Load (0.3ms)[0m   [0mSELECT * FROM `pharmacy_obs` WHERE ((pharmacy_obs.voided = 0) AND (voided = 0)) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.1ms)[0m   [0mSELECT * FROM `drug` WHERE (drug_id IN (3,5)) AND (drug.retired = 0) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mEncounterType Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `encounter_type`[0m
  [4;35;1mEncounterType Load (0.1ms)[0m   [0mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'TREATMENT') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrugOrder Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `drug_order`[0m
  [4;35;1mDrugOrder Load (0.5ms)[0m   [0mSELECT `drug_order`.* FROM `drug_order` INNER JOIN orders ON drug_order.order_id = orders.order_id
 INNER JOIN encounter e ON e.encounter_id = orders.encounter_id WHERE (encounter_type = 25 AND drug_inventory_id = 3
 AND encounter_datetime >= '2011-10-27 00:00:00' AND encounter_datetime <= '2011-11-27 23:59:59') [0m
  [4;36;1mPharmacyEncounterType Columns (5.6ms)[0m   [0;1mSHOW FIELDS FROM `pharmacy_encounter_type`[0m
  [4;35;1mPharmacyEncounterType Load (0.1ms)[0m   [0mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Load (0.5ms)[0m   [0;1mSELECT * FROM `pharmacy_obs` WHERE (drug_id=3 AND pharmacy_encounter_type=2) AND ((pharmacy_obs.voided = 0) AND (voided = 0)) ORDER BY encounter_date ASC,date_created ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Load (0.4ms)[0m   [0;1mSELECT SUM(value_numeric) total_delivered FROM `pharmacy_obs` WHERE (pharmacy_encounter_type = 2 AND drug_id = 3
 AND encounter_date >= '2011-10-27' AND encounter_date <= '2011-11-27') AND ((pharmacy_obs.voided = 0) AND (voided = 0)) GROUP BY drug_id LIMIT 1[0m
  [4;35;1mEncounterType Load (0.6ms)[0m   [0mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'DISPENSING') AND (encounter_type.retired = 0) LIMIT 1[0m
Rendering template within layouts/menu
Rendering drug/stock_report
Completed in 223ms (View: 18, DB: 11) | 200 OK [http://localhost/drug/stock_report]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 16:14:55) [GET]
  Parameters: {"action"=>"index", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.4ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
Rendering template within layouts/menu
Rendering drug/index
Completed in 44ms (View: 6, DB: 1) | 200 OK [http://localhost/drug]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#date_select (for 127.0.0.1 at 2011-10-27 16:14:57) [GET]
  Parameters: {"action"=>"date_select", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
Rendering template within layouts/application
Rendering drug/date_select
Completed in 53ms (View: 12, DB: 1) | 200 OK [http://localhost/drug/date_select]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#stock_report (for 127.0.0.1 at 2011-10-27 16:15:03) [POST]
  Parameters: {"start_date"=>"2011-10-26", "action"=>"stock_report", "authenticity_token"=>"7Nk9SE6++i0DBvf5zJtOTqGXJJJQYWqnBR6+pCjZfbY=", "controller"=>"drug", "end_date"=>"2011-11-27"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `pharmacy_obs`[0m
  [4;35;1mPharmacy Load (0.2ms)[0m   [0mSELECT * FROM `pharmacy_obs` WHERE ((pharmacy_obs.voided = 0) AND (voided = 0)) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.2ms)[0m   [0mSELECT * FROM `drug` WHERE (drug_id IN (3,5)) AND (drug.retired = 0) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mEncounterType Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `encounter_type`[0m
  [4;35;1mEncounterType Load (0.2ms)[0m   [0mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'TREATMENT') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrugOrder Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `drug_order`[0m
  [4;35;1mDrugOrder Load (0.5ms)[0m   [0mSELECT `drug_order`.* FROM `drug_order` INNER JOIN orders ON drug_order.order_id = orders.order_id
 INNER JOIN encounter e ON e.encounter_id = orders.encounter_id WHERE (encounter_type = 25 AND drug_inventory_id = 3
 AND encounter_datetime >= '2011-10-26 00:00:00' AND encounter_datetime <= '2011-11-27 23:59:59') [0m
  [4;36;1mPharmacyEncounterType Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `pharmacy_encounter_type`[0m
  [4;35;1mPharmacyEncounterType Load (0.2ms)[0m   [0mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Load (0.1ms)[0m   [0;1mSELECT * FROM `pharmacy_obs` WHERE (drug_id=3 AND pharmacy_encounter_type=2) AND ((pharmacy_obs.voided = 0) AND (voided = 0)) ORDER BY encounter_date ASC,date_created ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Load (0.1ms)[0m   [0;1mSELECT SUM(value_numeric) total_delivered FROM `pharmacy_obs` WHERE (pharmacy_encounter_type = 2 AND drug_id = 3
 AND encounter_date >= '2011-10-27' AND encounter_date <= '2011-11-27') AND ((pharmacy_obs.voided = 0) AND (voided = 0)) GROUP BY drug_id LIMIT 1[0m
  [4;35;1mEncounterType Load (0.1ms)[0m   [0mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'DISPENSING') AND (encounter_type.retired = 0) LIMIT 1[0m
Rendering template within layouts/menu
Rendering drug/stock_report
Completed in 94ms (View: 3, DB: 3) | 200 OK [http://localhost/drug/stock_report]
  [4;35;1mPharmacyEncounterType Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `pharmacy_encounter_type`[0m
  [4;36;1mPharmacyEncounterType Load (0.1ms)[0m   [0;1mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mPharmacy Load (0.1ms)[0m   [0mSELECT * FROM `pharmacy_obs` WHERE (drug_id=5 AND pharmacy_encounter_type=2) AND ((pharmacy_obs.voided = 0) AND (voided = 0)) ORDER BY encounter_date ASC,date_created ASC LIMIT 1[0m
  [4;36;1mPharmacyEncounterType Load (0.2ms)[0m   [0;1mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mPharmacy Load (0.1ms)[0m   [0mSELECT * FROM `pharmacy_obs` WHERE (drug_id=5 AND pharmacy_encounter_type=2) AND ((pharmacy_obs.voided = 0) AND (voided = 0)) ORDER BY encounter_date ASC,date_created ASC LIMIT 1[0m
  [4;36;1mPharmacyEncounterType Load (0.2ms)[0m   [0;1mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mPharmacy Load (4.9ms)[0m   [0mSELECT SUM(value_numeric) total_delivered FROM `pharmacy_obs` WHERE (pharmacy_encounter_type = 2 AND drug_id = 5
 AND encounter_date >= '2011-10-27' AND encounter_date <= '2011-10-28') AND ((pharmacy_obs.voided = 0) AND (voided = 0)) GROUP BY drug_id LIMIT 1[0m
  [4;36;1mEncounterType Load (0.2ms)[0m   [0;1mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'DISPENSING') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mPharmacy Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `pharmacy_obs`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mPharmacyEncounterType Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `pharmacy_encounter_type`[0m
  [4;35;1mPharmacyEncounterType Load (0.1ms)[0m   [0mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Load (0.2ms)[0m   [0;1mSELECT * FROM `pharmacy_obs` WHERE (drug_id=5 AND pharmacy_encounter_type=2) AND ((pharmacy_obs.voided = 0) AND (voided = 0)) ORDER BY encounter_date ASC,date_created ASC LIMIT 1[0m
  [4;35;1mPharmacyEncounterType Load (0.1ms)[0m   [0mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Load (0.1ms)[0m   [0;1mSELECT SUM(value_numeric) total_delivered FROM `pharmacy_obs` WHERE (pharmacy_encounter_type = 2 AND drug_id = 5
 AND encounter_date >= '2011-10-27' AND encounter_date <= '2011-10-28') AND ((pharmacy_obs.voided = 0) AND (voided = 0)) GROUP BY drug_id LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mEncounterType Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `encounter_type`[0m
  [4;36;1mEncounterType Load (0.1ms)[0m   [0;1mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'DISPENSING') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mConceptName Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `concept_name`[0m
  [4;36;1mConceptName Load (0.4ms)[0m   [0;1mSELECT * FROM `concept_name` WHERE (`concept_name`.`name` = 'AMOUNT DISPENSED') AND (concept_name.voided = 0) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mEncounter Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `encounter`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mEncounter Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `encounter`[0m
  [4;35;1mPharmacyEncounterType Load (28.6ms)[0m   [0mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'Tins removed') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Load (0.3ms)[0m   [0;1mSELECT SUM(value_numeric) total_removed FROM `pharmacy_obs` WHERE (pharmacy_encounter_type = 3 AND drug_id = 5
 AND encounter_date >= '2011-10-27' AND encounter_date <= '2011-10-28') AND ((pharmacy_obs.voided = 0) AND (voided = 0)) GROUP BY drug_id LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#stock_report (for 127.0.0.1 at 2011-10-27 16:22:13) [POST]
  Parameters: {"start_date"=>"2011-10-26", "action"=>"stock_report", "authenticity_token"=>"7Nk9SE6++i0DBvf5zJtOTqGXJJJQYWqnBR6+pCjZfbY=", "controller"=>"drug", "end_date"=>"2011-11-27"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `pharmacy_obs`[0m
  [4;35;1mPharmacy Load (0.1ms)[0m   [0mSELECT * FROM `pharmacy_obs` WHERE ((pharmacy_obs.voided = 0) AND (voided = 0)) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.1ms)[0m   [0mSELECT * FROM `drug` WHERE (drug_id IN (3,5)) AND (drug.retired = 0) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mEncounterType Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `encounter_type`[0m
  [4;35;1mEncounterType Load (0.2ms)[0m   [0mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'TREATMENT') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrugOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `drug_order`[0m
  [4;35;1mDrugOrder Load (0.2ms)[0m   [0mSELECT `drug_order`.* FROM `drug_order` INNER JOIN orders ON drug_order.order_id = orders.order_id
 INNER JOIN encounter e ON e.encounter_id = orders.encounter_id WHERE (encounter_type = 25 AND drug_inventory_id = 3
 AND encounter_datetime >= '2011-10-26 00:00:00' AND encounter_datetime <= '2011-11-27 23:59:59') [0m
  [4;36;1mPharmacyEncounterType Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `pharmacy_encounter_type`[0m
  [4;35;1mPharmacyEncounterType Load (0.2ms)[0m   [0mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Load (0.2ms)[0m   [0;1mSELECT * FROM `pharmacy_obs` WHERE (drug_id=3 AND pharmacy_encounter_type=2) AND ((pharmacy_obs.voided = 0) AND (voided = 0)) ORDER BY encounter_date ASC,date_created ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Load (0.1ms)[0m   [0;1mSELECT SUM(value_numeric) total_delivered FROM `pharmacy_obs` WHERE (pharmacy_encounter_type = 2 AND drug_id = 3
 AND encounter_date >= '2011-10-27' AND encounter_date <= '2011-11-27') AND ((pharmacy_obs.voided = 0) AND (voided = 0)) GROUP BY drug_id LIMIT 1[0m
  [4;35;1mEncounterType Load (0.1ms)[0m   [0mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'DISPENSING') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mConceptName Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `concept_name`[0m
  [4;35;1mConceptName Load (0.1ms)[0m   [0mSELECT * FROM `concept_name` WHERE (`concept_name`.`name` = 'AMOUNT DISPENSED') AND (concept_name.voided = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mEncounter Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `encounter`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mEncounter Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `encounter`[0m
  [4;36;1mPharmacyEncounterType Load (0.2ms)[0m   [0;1mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'Tins removed') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mPharmacy Load (0.4ms)[0m   [0mSELECT SUM(value_numeric) total_removed FROM `pharmacy_obs` WHERE (pharmacy_encounter_type = 3 AND drug_id = 3
 AND encounter_date >= '2011-10-27' AND encounter_date <= '2011-11-27') AND ((pharmacy_obs.voided = 0) AND (voided = 0)) GROUP BY drug_id LIMIT 1[0m
  [4;36;1mEncounterType Load (0.1ms)[0m   [0;1mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'DISPENSING') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mConceptName Load (0.1ms)[0m   [0mSELECT * FROM `concept_name` WHERE (`concept_name`.`name` = 'AMOUNT DISPENSED') AND (concept_name.voided = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mEncounter Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `encounter`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mEncounter Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `encounter`[0m
  [4;36;1mEncounterType Load (0.1ms)[0m   [0;1mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'TREATMENT') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mDrugOrder Load (0.5ms)[0m   [0mSELECT `drug_order`.* FROM `drug_order` INNER JOIN orders ON drug_order.order_id = orders.order_id
 INNER JOIN encounter e ON e.encounter_id = orders.encounter_id WHERE (encounter_type = 25 AND drug_inventory_id = 5
 AND encounter_datetime >= '2011-10-26 00:00:00' AND encounter_datetime <= '2011-11-27 23:59:59') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mPharmacy Load (0.1ms)[0m   [0mSELECT * FROM `pharmacy_obs` WHERE (drug_id=5 AND pharmacy_encounter_type=2) AND ((pharmacy_obs.voided = 0) AND (voided = 0)) ORDER BY encounter_date ASC,date_created ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mPharmacy Load (0.3ms)[0m   [0mSELECT SUM(value_numeric) total_delivered FROM `pharmacy_obs` WHERE (pharmacy_encounter_type = 2 AND drug_id = 5
 AND encounter_date >= '2011-10-27' AND encounter_date <= '2011-11-27') AND ((pharmacy_obs.voided = 0) AND (voided = 0)) GROUP BY drug_id LIMIT 1[0m
  [4;36;1mEncounterType Load (0.1ms)[0m   [0;1mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'DISPENSING') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mConceptName Load (0.1ms)[0m   [0mSELECT * FROM `concept_name` WHERE (`concept_name`.`name` = 'AMOUNT DISPENSED') AND (concept_name.voided = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mEncounter Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `encounter`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mEncounter Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `encounter`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'Tins removed') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mPharmacy Load (0.4ms)[0m   [0mSELECT SUM(value_numeric) total_removed FROM `pharmacy_obs` WHERE (pharmacy_encounter_type = 3 AND drug_id = 5
 AND encounter_date >= '2011-10-27' AND encounter_date <= '2011-11-27') AND ((pharmacy_obs.voided = 0) AND (voided = 0)) GROUP BY drug_id LIMIT 1[0m
  [4;36;1mEncounterType Load (0.1ms)[0m   [0;1mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'DISPENSING') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mConceptName Load (0.1ms)[0m   [0mSELECT * FROM `concept_name` WHERE (`concept_name`.`name` = 'AMOUNT DISPENSED') AND (concept_name.voided = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mEncounter Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `encounter`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mEncounter Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `encounter`[0m
Rendering template within layouts/menu
Rendering drug/stock_report
Completed in 314ms (View: 17, DB: 6) | 200 OK [http://localhost/drug/stock_report]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#stock_report (for 127.0.0.1 at 2011-10-27 16:24:13) [POST]
  Parameters: {"start_date"=>"2011-10-26", "action"=>"stock_report", "authenticity_token"=>"7Nk9SE6++i0DBvf5zJtOTqGXJJJQYWqnBR6+pCjZfbY=", "controller"=>"drug", "end_date"=>"2011-11-27"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (1.9ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (3.0ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Columns (3.6ms)[0m   [0;1mSHOW FIELDS FROM `pharmacy_obs`[0m
  [4;35;1mPharmacy Load (0.1ms)[0m   [0mSELECT * FROM `pharmacy_obs` WHERE ((pharmacy_obs.voided = 0) AND (voided = 0)) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.1ms)[0m   [0mSELECT * FROM `drug` WHERE (drug_id IN (3,5)) AND (drug.retired = 0) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mEncounterType Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `encounter_type`[0m
  [4;35;1mEncounterType Load (0.2ms)[0m   [0mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'TREATMENT') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrugOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `drug_order`[0m
  [4;35;1mDrugOrder Load (0.5ms)[0m   [0mSELECT `drug_order`.* FROM `drug_order` INNER JOIN orders ON drug_order.order_id = orders.order_id
 INNER JOIN encounter e ON e.encounter_id = orders.encounter_id WHERE (encounter_type = 25 AND drug_inventory_id = 3
 AND encounter_datetime >= '2011-10-26 00:00:00' AND encounter_datetime <= '2011-11-27 23:59:59') [0m
  [4;36;1mPharmacyEncounterType Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `pharmacy_encounter_type`[0m
  [4;35;1mPharmacyEncounterType Load (0.1ms)[0m   [0mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Load (0.1ms)[0m   [0;1mSELECT * FROM `pharmacy_obs` WHERE (drug_id=3 AND pharmacy_encounter_type=2) AND ((pharmacy_obs.voided = 0) AND (voided = 0)) ORDER BY encounter_date ASC,date_created ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Load (0.1ms)[0m   [0;1mSELECT SUM(value_numeric) total_delivered FROM `pharmacy_obs` WHERE (pharmacy_encounter_type = 2 AND drug_id = 3
 AND encounter_date >= '2011-10-27' AND encounter_date <= '2011-11-27') AND ((pharmacy_obs.voided = 0) AND (voided = 0)) GROUP BY drug_id LIMIT 1[0m
  [4;35;1mEncounterType Load (0.1ms)[0m   [0mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'DISPENSING') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mConceptName Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `concept_name`[0m
  [4;35;1mConceptName Load (0.1ms)[0m   [0mSELECT * FROM `concept_name` WHERE (`concept_name`.`name` = 'AMOUNT DISPENSED') AND (concept_name.voided = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mEncounter Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `encounter`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mEncounter Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `encounter`[0m
  [4;36;1mPharmacyEncounterType Load (0.1ms)[0m   [0;1mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'Tins removed') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mPharmacy Load (0.1ms)[0m   [0mSELECT SUM(value_numeric) total_removed FROM `pharmacy_obs` WHERE (pharmacy_encounter_type = 3 AND drug_id = 3
 AND encounter_date >= '2011-10-27' AND encounter_date <= '2011-11-27') AND ((pharmacy_obs.voided = 0) AND (voided = 0)) GROUP BY drug_id LIMIT 1[0m
  [4;36;1mEncounterType Load (0.1ms)[0m   [0;1mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'DISPENSING') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mConceptName Load (0.1ms)[0m   [0mSELECT * FROM `concept_name` WHERE (`concept_name`.`name` = 'AMOUNT DISPENSED') AND (concept_name.voided = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mEncounter Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `encounter`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mEncounter Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `encounter`[0m
  [4;36;1mEncounterType Load (0.1ms)[0m   [0;1mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'TREATMENT') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mDrugOrder Load (0.6ms)[0m   [0mSELECT `drug_order`.* FROM `drug_order` INNER JOIN orders ON drug_order.order_id = orders.order_id
 INNER JOIN encounter e ON e.encounter_id = orders.encounter_id WHERE (encounter_type = 25 AND drug_inventory_id = 5
 AND encounter_datetime >= '2011-10-26 00:00:00' AND encounter_datetime <= '2011-11-27 23:59:59') [0m
Rendering template within layouts/menu
Rendering drug/stock_report
Completed in 273ms (View: 2, DB: 6) | 200 OK [http://localhost/drug/stock_report]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#stock_report (for 127.0.0.1 at 2011-10-27 16:24:26) [POST]
  Parameters: {"start_date"=>"2011-10-26", "action"=>"stock_report", "authenticity_token"=>"7Nk9SE6++i0DBvf5zJtOTqGXJJJQYWqnBR6+pCjZfbY=", "controller"=>"drug", "end_date"=>"2011-11-27"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.4ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Columns (3.3ms)[0m   [0;1mSHOW FIELDS FROM `pharmacy_obs`[0m
  [4;35;1mPharmacy Load (0.1ms)[0m   [0mSELECT * FROM `pharmacy_obs` WHERE ((pharmacy_obs.voided = 0) AND (voided = 0)) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.2ms)[0m   [0mSELECT * FROM `drug` WHERE (drug_id IN (3,5)) AND (drug.retired = 0) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mEncounterType Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `encounter_type`[0m
  [4;35;1mEncounterType Load (0.1ms)[0m   [0mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'TREATMENT') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrugOrder Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `drug_order`[0m
  [4;35;1mDrugOrder Load (0.7ms)[0m   [0mSELECT `drug_order`.* FROM `drug_order` INNER JOIN orders ON drug_order.order_id = orders.order_id
 INNER JOIN encounter e ON e.encounter_id = orders.encounter_id WHERE (encounter_type = 25 AND drug_inventory_id = 3
 AND encounter_datetime >= '2011-10-26 00:00:00' AND encounter_datetime <= '2011-11-27 23:59:59') [0m
  [4;36;1mPharmacyEncounterType Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `pharmacy_encounter_type`[0m
  [4;35;1mPharmacyEncounterType Load (0.3ms)[0m   [0mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Load (0.1ms)[0m   [0;1mSELECT * FROM `pharmacy_obs` WHERE (drug_id=3 AND pharmacy_encounter_type=2) AND ((pharmacy_obs.voided = 0) AND (voided = 0)) ORDER BY encounter_date ASC,date_created ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Load (0.2ms)[0m   [0;1mSELECT SUM(value_numeric) total_delivered FROM `pharmacy_obs` WHERE (pharmacy_encounter_type = 2 AND drug_id = 3
 AND encounter_date >= '2011-10-27' AND encounter_date <= '2011-11-27') AND ((pharmacy_obs.voided = 0) AND (voided = 0)) GROUP BY drug_id LIMIT 1[0m
  [4;35;1mEncounterType Load (0.2ms)[0m   [0mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'DISPENSING') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mConceptName Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `concept_name`[0m
  [4;35;1mConceptName Load (0.4ms)[0m   [0mSELECT * FROM `concept_name` WHERE (`concept_name`.`name` = 'AMOUNT DISPENSED') AND (concept_name.voided = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mEncounter Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `encounter`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mEncounter Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `encounter`[0m
  [4;36;1mPharmacyEncounterType Load (0.1ms)[0m   [0;1mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'Tins removed') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mPharmacy Load (0.1ms)[0m   [0mSELECT SUM(value_numeric) total_removed FROM `pharmacy_obs` WHERE (pharmacy_encounter_type = 3 AND drug_id = 3
 AND encounter_date >= '2011-10-27' AND encounter_date <= '2011-11-27') AND ((pharmacy_obs.voided = 0) AND (voided = 0)) GROUP BY drug_id LIMIT 1[0m
  [4;36;1mEncounterType Load (0.1ms)[0m   [0;1mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'DISPENSING') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mConceptName Load (0.1ms)[0m   [0mSELECT * FROM `concept_name` WHERE (`concept_name`.`name` = 'AMOUNT DISPENSED') AND (concept_name.voided = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mEncounter Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `encounter`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mEncounter Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `encounter`[0m
  [4;36;1mEncounterType Load (0.1ms)[0m   [0;1mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'TREATMENT') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mDrugOrder Load (0.1ms)[0m   [0mSELECT `drug_order`.* FROM `drug_order` INNER JOIN orders ON drug_order.order_id = orders.order_id
 INNER JOIN encounter e ON e.encounter_id = orders.encounter_id WHERE (encounter_type = 25 AND drug_inventory_id = 5
 AND encounter_datetime >= '2011-10-26 00:00:00' AND encounter_datetime <= '2011-11-27 23:59:59') [0m
Rendering template within layouts/menu
Rendering drug/stock_report
Completed in 256ms (View: 3, DB: 6) | 200 OK [http://localhost/drug/stock_report]
  [4;35;1mPharmacyEncounterType Load (2.3ms)[0m   [0mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Load (0.1ms)[0m   [0;1mSELECT * FROM `pharmacy_obs` WHERE (drug_id=5 AND pharmacy_encounter_type=2) AND ((pharmacy_obs.voided = 0) AND (voided = 0)) ORDER BY encounter_date ASC,date_created ASC LIMIT 1[0m
  [4;35;1mPharmacyEncounterType Load (0.1ms)[0m   [0mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Load (1.2ms)[0m   [0;1mSELECT SUM(value_numeric) total_delivered FROM `pharmacy_obs` WHERE (pharmacy_encounter_type = 2 AND drug_id = 3
 AND encounter_date >= '2011-10-27' AND encounter_date <= '2011-10-28') AND ((pharmacy_obs.voided = 0) AND (voided = 0)) GROUP BY drug_id LIMIT 1[0m
  [4;35;1mEncounterType Load (0.1ms)[0m   [0mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'DISPENSING') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mConceptName Load (0.1ms)[0m   [0;1mSELECT * FROM `concept_name` WHERE (`concept_name`.`name` = 'AMOUNT DISPENSED') AND (concept_name.voided = 0) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mEncounter Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `encounter`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mEncounter Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `encounter`[0m
  [4;35;1mPharmacyEncounterType Load (0.1ms)[0m   [0mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'Tins removed') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Load (0.3ms)[0m   [0;1mSELECT SUM(value_numeric) total_removed FROM `pharmacy_obs` WHERE (pharmacy_encounter_type = 3 AND drug_id = 3
 AND encounter_date >= '2011-10-27' AND encounter_date <= '2011-10-28') AND ((pharmacy_obs.voided = 0) AND (voided = 0)) GROUP BY drug_id LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mDrug Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `drug`[0m
  [4;36;1mDrug Load (0.1ms)[0m   [0;1mSELECT * FROM `drug` WHERE (`drug`.`drug_id` = 3) AND (drug.retired = 0) [0m
  [4;35;1mDrug Load (0.2ms)[0m   [0mSELECT * FROM `drug` WHERE (`drug`.`drug_id` = 5) AND (drug.retired = 0) [0m
  [4;36;1mPharmacyEncounterType Load (0.6ms)[0m   [0;1mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mPharmacy Load (0.1ms)[0m   [0mSELECT * FROM `pharmacy_obs` WHERE (drug_id=5 AND pharmacy_encounter_type=2) AND ((pharmacy_obs.voided = 0) AND (voided = 0)) ORDER BY encounter_date ASC,date_created ASC LIMIT 1[0m
  [4;36;1mPharmacyEncounterType Load (0.2ms)[0m   [0;1mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mPharmacy Load (0.1ms)[0m   [0mSELECT SUM(value_numeric) total_delivered FROM `pharmacy_obs` WHERE (pharmacy_encounter_type = 2 AND drug_id = 5
 AND encounter_date >= '2011-10-27' AND encounter_date <= '2011-10-28') AND ((pharmacy_obs.voided = 0) AND (voided = 0)) GROUP BY drug_id LIMIT 1[0m
  [4;36;1mEncounterType Load (0.1ms)[0m   [0;1mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'DISPENSING') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mConceptName Load (0.1ms)[0m   [0mSELECT * FROM `concept_name` WHERE (`concept_name`.`name` = 'AMOUNT DISPENSED') AND (concept_name.voided = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mEncounter Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `encounter`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mEncounter Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `encounter`[0m
  [4;36;1mPharmacyEncounterType Load (0.1ms)[0m   [0;1mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'Tins removed') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mPharmacy Load (0.1ms)[0m   [0mSELECT SUM(value_numeric) total_removed FROM `pharmacy_obs` WHERE (pharmacy_encounter_type = 3 AND drug_id = 5
 AND encounter_date >= '2011-10-27' AND encounter_date <= '2011-10-28') AND ((pharmacy_obs.voided = 0) AND (voided = 0)) GROUP BY drug_id LIMIT 1[0m
  [4;36;1mEncounterType Load (0.1ms)[0m   [0;1mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'TREATMENT') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mDrugOrder Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `drug_order`[0m
  [4;36;1mDrugOrder Load (0.8ms)[0m   [0;1mSELECT `drug_order`.* FROM `drug_order` INNER JOIN orders ON drug_order.order_id = orders.order_id
 INNER JOIN encounter e ON e.encounter_id = orders.encounter_id WHERE (encounter_type = 25 AND drug_inventory_id = 5
 AND encounter_datetime >= '2011-10-26 00:00:00' AND encounter_datetime <= '2011-10-28 23:59:59') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPatient Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `patient`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mPatientIdentifier Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `patient_identifier`[0m
  [4;35;1mSQL (2.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mEncounterType Load (0.2ms)[0m   [0;1mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'TREATMENT') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mDrugOrder Load (0.2ms)[0m   [0mSELECT `drug_order`.* FROM `drug_order` INNER JOIN orders ON drug_order.order_id = orders.order_id
 INNER JOIN encounter e ON e.encounter_id = orders.encounter_id WHERE (encounter_type = 25 AND drug_inventory_id = 5
 AND encounter_datetime >= '2011-10-26 00:00:00' AND encounter_datetime <= '2011-10-28 23:59:59') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mOrder Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mOrder Load (0.4ms)[0m   [0mSELECT * FROM `orders` WHERE (`orders`.`order_id` = 3) AND (orders.voided = 0) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#stock_report (for 127.0.0.1 at 2011-10-27 16:35:05) [POST]
  Parameters: {"start_date"=>"2011-10-26", "action"=>"stock_report", "authenticity_token"=>"7Nk9SE6++i0DBvf5zJtOTqGXJJJQYWqnBR6+pCjZfbY=", "controller"=>"drug", "end_date"=>"2011-11-27"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `pharmacy_obs`[0m
  [4;35;1mPharmacy Load (0.1ms)[0m   [0mSELECT * FROM `pharmacy_obs` WHERE ((pharmacy_obs.voided = 0) AND (voided = 0)) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.2ms)[0m   [0mSELECT * FROM `drug` WHERE (drug_id IN (3,5)) AND (drug.retired = 0) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mEncounterType Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `encounter_type`[0m
  [4;35;1mEncounterType Load (0.1ms)[0m   [0mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'TREATMENT') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrugOrder Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `drug_order`[0m
  [4;35;1mDrugOrder Load (0.1ms)[0m   [0mSELECT `drug_order`.* FROM `drug_order` INNER JOIN orders ON drug_order.order_id = orders.order_id
 INNER JOIN encounter e ON e.encounter_id = orders.encounter_id WHERE (encounter_type = 25 AND drug_inventory_id = 3
 AND encounter_datetime >= '2011-10-26 00:00:00' AND encounter_datetime <= '2011-11-27 23:59:59') [0m
  [4;36;1mPharmacyEncounterType Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `pharmacy_encounter_type`[0m
  [4;35;1mPharmacyEncounterType Load (0.1ms)[0m   [0mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Load (0.2ms)[0m   [0;1mSELECT * FROM `pharmacy_obs` WHERE (drug_id=3 AND pharmacy_encounter_type=2) AND ((pharmacy_obs.voided = 0) AND (voided = 0)) ORDER BY encounter_date ASC,date_created ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Load (0.1ms)[0m   [0;1mSELECT SUM(value_numeric) total_delivered FROM `pharmacy_obs` WHERE (pharmacy_encounter_type = 2 AND drug_id = 3
 AND encounter_date >= '2011-10-27' AND encounter_date <= '2011-11-27') AND ((pharmacy_obs.voided = 0) AND (voided = 0)) GROUP BY drug_id LIMIT 1[0m
  [4;35;1mEncounterType Load (0.1ms)[0m   [0mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'DISPENSING') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mConceptName Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `concept_name`[0m
  [4;35;1mConceptName Load (0.1ms)[0m   [0mSELECT * FROM `concept_name` WHERE (`concept_name`.`name` = 'AMOUNT DISPENSED') AND (concept_name.voided = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mEncounter Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `encounter`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mEncounter Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `encounter`[0m
  [4;36;1mPharmacyEncounterType Load (0.1ms)[0m   [0;1mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'Tins removed') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mPharmacy Load (0.1ms)[0m   [0mSELECT SUM(value_numeric) total_removed FROM `pharmacy_obs` WHERE (pharmacy_encounter_type = 3 AND drug_id = 3
 AND encounter_date >= '2011-10-27' AND encounter_date <= '2011-11-27') AND ((pharmacy_obs.voided = 0) AND (voided = 0)) GROUP BY drug_id LIMIT 1[0m
  [4;36;1mEncounterType Load (0.1ms)[0m   [0;1mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'DISPENSING') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mConceptName Load (0.1ms)[0m   [0mSELECT * FROM `concept_name` WHERE (`concept_name`.`name` = 'AMOUNT DISPENSED') AND (concept_name.voided = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mEncounter Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `encounter`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mEncounter Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `encounter`[0m
  [4;36;1mEncounterType Load (0.1ms)[0m   [0;1mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'TREATMENT') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mDrugOrder Load (0.1ms)[0m   [0mSELECT `drug_order`.* FROM `drug_order` INNER JOIN orders ON drug_order.order_id = orders.order_id
 INNER JOIN encounter e ON e.encounter_id = orders.encounter_id WHERE (encounter_type = 25 AND drug_inventory_id = 5
 AND encounter_datetime >= '2011-10-26 00:00:00' AND encounter_datetime <= '2011-11-27 23:59:59') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mOrder Load (0.2ms)[0m   [0mSELECT * FROM `orders` WHERE (`orders`.`order_id` = 3) AND (orders.voided = 0) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mPharmacy Load (0.1ms)[0m   [0mSELECT * FROM `pharmacy_obs` WHERE (drug_id=5 AND pharmacy_encounter_type=2) AND ((pharmacy_obs.voided = 0) AND (voided = 0)) ORDER BY encounter_date ASC,date_created ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mPharmacy Load (0.1ms)[0m   [0mSELECT SUM(value_numeric) total_delivered FROM `pharmacy_obs` WHERE (pharmacy_encounter_type = 2 AND drug_id = 5
 AND encounter_date >= '2011-10-27' AND encounter_date <= '2011-11-27') AND ((pharmacy_obs.voided = 0) AND (voided = 0)) GROUP BY drug_id LIMIT 1[0m
  [4;36;1mEncounterType Load (0.1ms)[0m   [0;1mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'DISPENSING') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mConceptName Load (0.1ms)[0m   [0mSELECT * FROM `concept_name` WHERE (`concept_name`.`name` = 'AMOUNT DISPENSED') AND (concept_name.voided = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mEncounter Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `encounter`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mEncounter Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `encounter`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'Tins removed') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mPharmacy Load (0.1ms)[0m   [0mSELECT SUM(value_numeric) total_removed FROM `pharmacy_obs` WHERE (pharmacy_encounter_type = 3 AND drug_id = 5
 AND encounter_date >= '2011-10-27' AND encounter_date <= '2011-11-27') AND ((pharmacy_obs.voided = 0) AND (voided = 0)) GROUP BY drug_id LIMIT 1[0m
  [4;36;1mEncounterType Load (0.1ms)[0m   [0;1mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'DISPENSING') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mConceptName Load (0.1ms)[0m   [0mSELECT * FROM `concept_name` WHERE (`concept_name`.`name` = 'AMOUNT DISPENSED') AND (concept_name.voided = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mEncounter Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `encounter`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mEncounter Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `encounter`[0m
Rendering template within layouts/menu
Rendering drug/stock_report
Completed in 405ms (View: 48, DB: 4) | 200 OK [http://localhost/drug/stock_report]
  [4;36;1mEncounterType Load (0.2ms)[0m   [0;1mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'DISPENSING') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mConceptName Load (0.1ms)[0m   [0mSELECT * FROM `concept_name` WHERE (`concept_name`.`name` = 'AMOUNT DISPENSED') AND (concept_name.voided = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mEncounter Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `encounter`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mEncounter Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `encounter`[0m
  [4;36;1mEncounterType Load (0.1ms)[0m   [0;1mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'DISPENSING') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mConceptName Load (0.1ms)[0m   [0mSELECT * FROM `concept_name` WHERE (`concept_name`.`name` = 'AMOUNT DISPENSED') AND (concept_name.voided = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mEncounter Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `encounter`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mEncounter Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `encounter`[0m
  [4;36;1mEncounterType Load (0.1ms)[0m   [0;1mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'DISPENSING') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mConceptName Load (0.1ms)[0m   [0mSELECT * FROM `concept_name` WHERE (`concept_name`.`name` = 'AMOUNT DISPENSED') AND (concept_name.voided = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mEncounter Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `encounter`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mEncounter Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `encounter`[0m
  [4;36;1mEncounterType Load (0.1ms)[0m   [0;1mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'DISPENSING') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mConceptName Load (0.1ms)[0m   [0mSELECT * FROM `concept_name` WHERE (`concept_name`.`name` = 'AMOUNT DISPENSED') AND (concept_name.voided = 0) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mEncounter Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `encounter`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mEncounter Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `encounter`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mPharmacy Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `pharmacy_obs`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mEncounterType Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `encounter_type`[0m
  [4;36;1mEncounterType Load (0.2ms)[0m   [0;1mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'DISPENSING') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mConceptName Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `concept_name`[0m
  [4;36;1mConceptName Load (0.1ms)[0m   [0;1mSELECT * FROM `concept_name` WHERE (`concept_name`.`name` = 'AMOUNT DISPENSED') AND (concept_name.voided = 0) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mEncounter Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `encounter`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mEncounter Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `encounter`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mPharmacy Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `pharmacy_obs`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mEncounterType Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `encounter_type`[0m
  [4;36;1mEncounterType Load (0.1ms)[0m   [0;1mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'DISPENSING') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mConceptName Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `concept_name`[0m
  [4;36;1mConceptName Load (0.1ms)[0m   [0;1mSELECT * FROM `concept_name` WHERE (`concept_name`.`name` = 'AMOUNT DISPENSED') AND (concept_name.voided = 0) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mEncounter Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `encounter`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mObservation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `obs`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mEncounter Load (0.6ms)[0m   [0;1mSELECT SUM(value_numeric) total_dispensed FROM `encounter` INNER JOIN obs USING(encounter_id) WHERE (concept_id = 2834 AND encounter_type = 54
 AND obs_datetime >= '2011-10-26 00:00:00' AND obs_datetime <= '2011-10-28 23:59:59' AND value_drug = 5) AND (encounter.voided = 0) GROUP BY value_drug LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#stock_report (for 127.0.0.1 at 2011-10-27 16:39:11) [POST]
  Parameters: {"start_date"=>"2011-10-26", "action"=>"stock_report", "authenticity_token"=>"7Nk9SE6++i0DBvf5zJtOTqGXJJJQYWqnBR6+pCjZfbY=", "controller"=>"drug", "end_date"=>"2011-11-27"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `pharmacy_obs`[0m
  [4;35;1mPharmacy Load (0.1ms)[0m   [0mSELECT * FROM `pharmacy_obs` WHERE ((pharmacy_obs.voided = 0) AND (voided = 0)) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.1ms)[0m   [0mSELECT * FROM `drug` WHERE (drug_id IN (3,5)) AND (drug.retired = 0) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mEncounterType Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `encounter_type`[0m
  [4;35;1mEncounterType Load (0.2ms)[0m   [0mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'TREATMENT') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrugOrder Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `drug_order`[0m
  [4;35;1mDrugOrder Load (0.2ms)[0m   [0mSELECT `drug_order`.* FROM `drug_order` INNER JOIN orders ON drug_order.order_id = orders.order_id
 INNER JOIN encounter e ON e.encounter_id = orders.encounter_id WHERE (encounter_type = 25 AND drug_inventory_id = 3
 AND encounter_datetime >= '2011-10-26 00:00:00' AND encounter_datetime <= '2011-11-27 23:59:59') [0m
  [4;36;1mPharmacyEncounterType Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `pharmacy_encounter_type`[0m
  [4;35;1mPharmacyEncounterType Load (0.1ms)[0m   [0mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Load (0.1ms)[0m   [0;1mSELECT * FROM `pharmacy_obs` WHERE (drug_id=3 AND pharmacy_encounter_type=2) AND ((pharmacy_obs.voided = 0) AND (voided = 0)) ORDER BY encounter_date ASC,date_created ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Load (0.1ms)[0m   [0;1mSELECT SUM(value_numeric) total_delivered FROM `pharmacy_obs` WHERE (pharmacy_encounter_type = 2 AND drug_id = 3
 AND encounter_date >= '2011-10-27' AND encounter_date <= '2011-11-27') AND ((pharmacy_obs.voided = 0) AND (voided = 0)) GROUP BY drug_id LIMIT 1[0m
  [4;35;1mEncounterType Load (0.1ms)[0m   [0mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'DISPENSING') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mConceptName Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `concept_name`[0m
  [4;35;1mConceptName Load (0.1ms)[0m   [0mSELECT * FROM `concept_name` WHERE (`concept_name`.`name` = 'AMOUNT DISPENSED') AND (concept_name.voided = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mEncounter Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `encounter`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mObservation Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `obs`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mEncounter Load (0.6ms)[0m   [0mSELECT SUM(value_numeric) total_dispensed FROM `encounter` INNER JOIN obs USING(encounter_id) WHERE (concept_id = 2834 AND encounter_type = 54
 AND obs_datetime >= '2011-10-27 00:00:00' AND obs_datetime <= '2011-11-27 23:59:59' AND value_drug = 3) AND (encounter.voided = 0) GROUP BY value_drug LIMIT 1[0m
Rendering template within layouts/menu
Rendering drug/stock_report
Completed in 189ms (View: 3, DB: 3) | 200 OK [http://localhost/drug/stock_report]
  [4;35;1mEncounterType Load (0.1ms)[0m   [0mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'TREATMENT') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrugOrder Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `drug_order`[0m
  [4;35;1mDrugOrder Load (0.2ms)[0m   [0mSELECT `drug_order`.* FROM `drug_order` INNER JOIN orders ON drug_order.order_id = orders.order_id
 INNER JOIN encounter e ON e.encounter_id = orders.encounter_id WHERE (encounter_type = 25 AND drug_inventory_id = 5
 AND encounter_datetime >= '2011-10-26 00:00:00' AND encounter_datetime <= '2011-10-28 23:59:59') [0m
  [4;36;1mOrder Load (0.2ms)[0m   [0;1mSELECT * FROM `orders` WHERE (`orders`.`order_id` = 3) AND (orders.voided = 0) [0m
  [4;35;1mEncounterType Load (0.2ms)[0m   [0mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'TREATMENT') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mDrugOrder Load (0.5ms)[0m   [0;1mSELECT `drug_order`.* FROM `drug_order` INNER JOIN orders ON drug_order.order_id = orders.order_id
 INNER JOIN encounter e ON e.encounter_id = orders.encounter_id WHERE (encounter_type = 25 AND drug_inventory_id = 3
 AND encounter_datetime >= '2011-10-26 00:00:00' AND encounter_datetime <= '2011-10-28 23:59:59') [0m
  [4;35;1mPharmacyEncounterType Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `pharmacy_encounter_type`[0m
  [4;36;1mPharmacyEncounterType Load (0.2ms)[0m   [0;1mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mPharmacy Load (0.2ms)[0m   [0mSELECT * FROM `pharmacy_obs` WHERE (drug_id=5 AND pharmacy_encounter_type=2) AND ((pharmacy_obs.voided = 0) AND (voided = 0)) ORDER BY encounter_date ASC,date_created ASC LIMIT 1[0m
  [4;36;1mPharmacyEncounterType Load (0.2ms)[0m   [0;1mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mPharmacy Load (0.3ms)[0m   [0mSELECT SUM(value_numeric) total_delivered FROM `pharmacy_obs` WHERE (pharmacy_encounter_type = 2 AND drug_id = 5
 AND encounter_date >= '2011-10-27' AND encounter_date <= '2011-10-27') AND ((pharmacy_obs.voided = 0) AND (voided = 0)) GROUP BY drug_id LIMIT 1[0m
  [4;36;1mEncounterType Load (0.1ms)[0m   [0;1mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'DISPENSING') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mConceptName Load (0.1ms)[0m   [0mSELECT * FROM `concept_name` WHERE (`concept_name`.`name` = 'AMOUNT DISPENSED') AND (concept_name.voided = 0) LIMIT 1[0m
  [4;36;1mEncounter Load (0.5ms)[0m   [0;1mSELECT SUM(value_numeric) total_dispensed FROM `encounter` INNER JOIN obs USING(encounter_id) WHERE (concept_id = 2834 AND encounter_type = 54
 AND obs_datetime >= '2011-10-27 00:00:00' AND obs_datetime <= '2011-10-27 23:59:59' AND value_drug = 5) AND (encounter.voided = 0) GROUP BY value_drug LIMIT 1[0m
  [4;35;1mPharmacyEncounterType Load (0.1ms)[0m   [0mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'Tins removed') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Load (0.3ms)[0m   [0;1mSELECT SUM(value_numeric) total_removed FROM `pharmacy_obs` WHERE (pharmacy_encounter_type = 3 AND drug_id = 5
 AND encounter_date >= '2011-10-27' AND encounter_date <= '2011-10-27') AND ((pharmacy_obs.voided = 0) AND (voided = 0)) GROUP BY drug_id LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#stock_report (for 127.0.0.1 at 2011-10-27 16:41:47) [POST]
  Parameters: {"start_date"=>"2011-10-26", "action"=>"stock_report", "authenticity_token"=>"7Nk9SE6++i0DBvf5zJtOTqGXJJJQYWqnBR6+pCjZfbY=", "controller"=>"drug", "end_date"=>"2011-11-27"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.1ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `pharmacy_obs`[0m
  [4;35;1mPharmacy Load (0.1ms)[0m   [0mSELECT * FROM `pharmacy_obs` WHERE ((pharmacy_obs.voided = 0) AND (voided = 0)) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.1ms)[0m   [0mSELECT * FROM `drug` WHERE (drug_id IN (3,5)) AND (drug.retired = 0) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mEncounterType Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `encounter_type`[0m
  [4;35;1mEncounterType Load (0.2ms)[0m   [0mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'TREATMENT') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrugOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `drug_order`[0m
  [4;35;1mDrugOrder Load (0.1ms)[0m   [0mSELECT `drug_order`.* FROM `drug_order` INNER JOIN orders ON drug_order.order_id = orders.order_id
 INNER JOIN encounter e ON e.encounter_id = orders.encounter_id WHERE (encounter_type = 25 AND drug_inventory_id = 3
 AND encounter_datetime >= '2011-10-26 00:00:00' AND encounter_datetime <= '2011-11-27 23:59:59') [0m
  [4;36;1mPharmacyEncounterType Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `pharmacy_encounter_type`[0m
  [4;35;1mPharmacyEncounterType Load (0.1ms)[0m   [0mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Load (0.1ms)[0m   [0;1mSELECT * FROM `pharmacy_obs` WHERE (drug_id=3 AND pharmacy_encounter_type=2) AND ((pharmacy_obs.voided = 0) AND (voided = 0)) ORDER BY encounter_date ASC,date_created ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Load (0.1ms)[0m   [0;1mSELECT SUM(value_numeric) total_delivered FROM `pharmacy_obs` WHERE (pharmacy_encounter_type = 2 AND drug_id = 3
 AND encounter_date >= '2011-10-27' AND encounter_date <= '2011-11-27') AND ((pharmacy_obs.voided = 0) AND (voided = 0)) GROUP BY drug_id LIMIT 1[0m
  [4;35;1mEncounterType Load (0.1ms)[0m   [0mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'DISPENSING') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mConceptName Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `concept_name`[0m
  [4;35;1mConceptName Load (0.1ms)[0m   [0mSELECT * FROM `concept_name` WHERE (`concept_name`.`name` = 'AMOUNT DISPENSED') AND (concept_name.voided = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mEncounter Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `encounter`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mObservation Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `obs`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mEncounter Load (0.1ms)[0m   [0mSELECT SUM(value_numeric) total_dispensed FROM `encounter` INNER JOIN obs USING(encounter_id) WHERE (concept_id = 2834 AND encounter_type = 54
 AND obs_datetime >= '2011-10-27 00:00:00' AND obs_datetime <= '2011-11-27 23:59:59' AND value_drug = 3) AND (encounter.voided = 0) GROUP BY value_drug LIMIT 1[0m
Rendering template within layouts/menu
Rendering drug/stock_report
Completed in 223ms (View: 17, DB: 5) | 200 OK [http://localhost/drug/stock_report]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#index (for 127.0.0.1 at 2011-10-27 16:41:50) [GET]
  Parameters: {"action"=>"index", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
Rendering template within layouts/menu
Rendering drug/index
Completed in 55ms (View: 7, DB: 1) | 200 OK [http://localhost/drug]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#date_select (for 127.0.0.1 at 2011-10-27 16:41:52) [GET]
  Parameters: {"action"=>"date_select", "controller"=>"drug"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
Rendering template within layouts/application
Rendering drug/date_select
Completed in 53ms (View: 11, DB: 1) | 200 OK [http://localhost/drug/date_select]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#stock_report (for 127.0.0.1 at 2011-10-27 16:41:57) [POST]
  Parameters: {"start_date"=>"2011-10-26", "action"=>"stock_report", "authenticity_token"=>"7Nk9SE6++i0DBvf5zJtOTqGXJJJQYWqnBR6+pCjZfbY=", "controller"=>"drug", "end_date"=>"2011-10-28"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `pharmacy_obs`[0m
  [4;35;1mPharmacy Load (0.1ms)[0m   [0mSELECT * FROM `pharmacy_obs` WHERE ((pharmacy_obs.voided = 0) AND (voided = 0)) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.2ms)[0m   [0mSELECT * FROM `drug` WHERE (drug_id IN (3,5)) AND (drug.retired = 0) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mEncounterType Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `encounter_type`[0m
  [4;35;1mEncounterType Load (0.1ms)[0m   [0mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'TREATMENT') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrugOrder Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `drug_order`[0m
  [4;35;1mDrugOrder Load (0.4ms)[0m   [0mSELECT `drug_order`.* FROM `drug_order` INNER JOIN orders ON drug_order.order_id = orders.order_id
 INNER JOIN encounter e ON e.encounter_id = orders.encounter_id WHERE (encounter_type = 25 AND drug_inventory_id = 3
 AND encounter_datetime >= '2011-10-26 00:00:00' AND encounter_datetime <= '2011-10-28 23:59:59') [0m
  [4;36;1mPharmacyEncounterType Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `pharmacy_encounter_type`[0m
  [4;35;1mPharmacyEncounterType Load (0.1ms)[0m   [0mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Load (0.1ms)[0m   [0;1mSELECT * FROM `pharmacy_obs` WHERE (drug_id=3 AND pharmacy_encounter_type=2) AND ((pharmacy_obs.voided = 0) AND (voided = 0)) ORDER BY encounter_date ASC,date_created ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Load (0.1ms)[0m   [0;1mSELECT SUM(value_numeric) total_delivered FROM `pharmacy_obs` WHERE (pharmacy_encounter_type = 2 AND drug_id = 3
 AND encounter_date >= '2011-10-27' AND encounter_date <= '2011-10-28') AND ((pharmacy_obs.voided = 0) AND (voided = 0)) GROUP BY drug_id LIMIT 1[0m
  [4;35;1mEncounterType Load (0.1ms)[0m   [0mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'DISPENSING') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mConceptName Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `concept_name`[0m
  [4;35;1mConceptName Load (0.2ms)[0m   [0mSELECT * FROM `concept_name` WHERE (`concept_name`.`name` = 'AMOUNT DISPENSED') AND (concept_name.voided = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mEncounter Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `encounter`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mObservation Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `obs`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mEncounter Load (0.8ms)[0m   [0mSELECT SUM(value_numeric) total_dispensed FROM `encounter` INNER JOIN obs USING(encounter_id) WHERE (concept_id = 2834 AND encounter_type = 54
 AND obs_datetime >= '2011-10-27 00:00:00' AND obs_datetime <= '2011-10-28 23:59:59' AND value_drug = 3) AND (encounter.voided = 0) GROUP BY value_drug LIMIT 1[0m
Rendering template within layouts/menu
Rendering drug/stock_report
Completed in 194ms (View: 4, DB: 3) | 200 OK [http://localhost/drug/stock_report]
  [4;35;1mPharmacyEncounterType Load (0.2ms)[0m   [0mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Load (0.2ms)[0m   [0;1mSELECT * FROM `pharmacy_obs` WHERE (drug_id=3 AND pharmacy_encounter_type=2) AND ((pharmacy_obs.voided = 0) AND (voided = 0)) ORDER BY encounter_date ASC,date_created ASC LIMIT 1[0m
  [4;35;1mPharmacyEncounterType Load (0.1ms)[0m   [0mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Load (0.5ms)[0m   [0;1mSELECT SUM(value_numeric) total_delivered FROM `pharmacy_obs` WHERE (pharmacy_encounter_type = 2 AND drug_id = 3
 AND encounter_date >= '2011-10-27' AND encounter_date <= '2011-10-27') AND ((pharmacy_obs.voided = 0) AND (voided = 0)) GROUP BY drug_id LIMIT 1[0m
  [4;35;1mEncounterType Load (0.1ms)[0m   [0mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'DISPENSING') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mConceptName Load (0.1ms)[0m   [0;1mSELECT * FROM `concept_name` WHERE (`concept_name`.`name` = 'AMOUNT DISPENSED') AND (concept_name.voided = 0) LIMIT 1[0m
  [4;35;1mEncounter Load (0.9ms)[0m   [0mSELECT SUM(value_numeric) total_dispensed FROM `encounter` INNER JOIN obs USING(encounter_id) WHERE (concept_id = 2834 AND encounter_type = 54
 AND obs_datetime >= '2011-10-27 00:00:00' AND obs_datetime <= '2011-10-27 23:59:59' AND value_drug = 3) AND (encounter.voided = 0) GROUP BY value_drug LIMIT 1[0m
  [4;36;1mPharmacyEncounterType Load (0.1ms)[0m   [0;1mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mPharmacy Load (0.1ms)[0m   [0mSELECT * FROM `pharmacy_obs` WHERE (drug_id=3 AND pharmacy_encounter_type=2) AND ((pharmacy_obs.voided = 0) AND (voided = 0)) ORDER BY encounter_date ASC,date_created ASC LIMIT 1[0m
  [4;36;1mPharmacyEncounterType Load (0.1ms)[0m   [0;1mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mPharmacy Load (0.1ms)[0m   [0mSELECT SUM(value_numeric) total_delivered FROM `pharmacy_obs` WHERE (pharmacy_encounter_type = 2 AND drug_id = 3
 AND encounter_date >= '2011-10-27' AND encounter_date <= '2011-10-27') AND ((pharmacy_obs.voided = 0) AND (voided = 0)) GROUP BY drug_id LIMIT 1[0m
  [4;36;1mEncounterType Load (0.1ms)[0m   [0;1mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'DISPENSING') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mConceptName Load (0.1ms)[0m   [0mSELECT * FROM `concept_name` WHERE (`concept_name`.`name` = 'AMOUNT DISPENSED') AND (concept_name.voided = 0) LIMIT 1[0m
  [4;36;1mEncounter Load (0.2ms)[0m   [0;1mSELECT SUM(value_numeric) total_dispensed FROM `encounter` INNER JOIN obs USING(encounter_id) WHERE (concept_id = 2834 AND encounter_type = 54
 AND obs_datetime >= '2011-10-27 00:00:00' AND obs_datetime <= '2011-10-27 23:59:59' AND value_drug = 3) AND (encounter.voided = 0) GROUP BY value_drug LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mPharmacy Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `pharmacy_obs`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mEncounterType Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `encounter_type`[0m
  [4;36;1mEncounterType Load (0.1ms)[0m   [0;1mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'DISPENSING') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mConceptName Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `concept_name`[0m
  [4;36;1mConceptName Load (0.2ms)[0m   [0;1mSELECT * FROM `concept_name` WHERE (`concept_name`.`name` = 'AMOUNT DISPENSED') AND (concept_name.voided = 0) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mEncounter Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `encounter`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mObservation Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `obs`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mEncounter Load (0.1ms)[0m   [0;1mSELECT SUM(value_numeric) total_dispensed FROM `encounter` INNER JOIN obs USING(encounter_id) WHERE (concept_id = 2834 AND encounter_type = 54
 AND obs_datetime >= '2011-10-26 00:00:00' AND obs_datetime <= '2011-10-28 23:59:59' AND value_drug = 5) AND (encounter.voided = 0) GROUP BY value_drug LIMIT 1[0m
  [4;35;1mEncounterType Load (0.2ms)[0m   [0mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'DISPENSING') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mConceptName Load (0.1ms)[0m   [0;1mSELECT * FROM `concept_name` WHERE (`concept_name`.`name` = 'AMOUNT DISPENSED') AND (concept_name.voided = 0) LIMIT 1[0m
  [4;35;1mEncounter Load (0.1ms)[0m   [0mSELECT SUM(value_numeric) total_dispensed FROM `encounter` INNER JOIN obs USING(encounter_id) WHERE (concept_id = 2834 AND encounter_type = 54
 AND obs_datetime >= '2011-10-26 00:00:00' AND obs_datetime <= '2011-10-28 23:59:59' AND value_drug = 5) AND (encounter.voided = 0) GROUP BY value_drug LIMIT 1[0m
  [4;36;1mEncounterType Load (0.2ms)[0m   [0;1mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'DISPENSING') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mConceptName Load (0.1ms)[0m   [0mSELECT * FROM `concept_name` WHERE (`concept_name`.`name` = 'AMOUNT DISPENSED') AND (concept_name.voided = 0) LIMIT 1[0m
  [4;36;1mEncounter Load (0.8ms)[0m   [0;1mSELECT SUM(value_numeric) total_dispensed FROM `encounter` INNER JOIN obs USING(encounter_id) WHERE (concept_id = 2834 AND encounter_type = 54
 AND obs_datetime >= '2011-10-26 00:00:00' AND obs_datetime <= '2011-10-28 23:59:59' AND value_drug = 3) AND (encounter.voided = 0) GROUP BY value_drug LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#stock_report (for 127.0.0.1 at 2011-10-27 16:46:16) [POST]
  Parameters: {"start_date"=>"2011-10-26", "action"=>"stock_report", "authenticity_token"=>"7Nk9SE6++i0DBvf5zJtOTqGXJJJQYWqnBR6+pCjZfbY=", "controller"=>"drug", "end_date"=>"2011-10-28"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.2ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Columns (5.1ms)[0m   [0;1mSHOW FIELDS FROM `pharmacy_obs`[0m
  [4;35;1mPharmacy Load (0.1ms)[0m   [0mSELECT * FROM `pharmacy_obs` WHERE ((pharmacy_obs.voided = 0) AND (voided = 0)) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.2ms)[0m   [0mSELECT * FROM `drug` WHERE (drug_id IN (3,5)) AND (drug.retired = 0) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mEncounterType Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `encounter_type`[0m
  [4;35;1mEncounterType Load (0.2ms)[0m   [0mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'TREATMENT') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrugOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `drug_order`[0m
  [4;35;1mDrugOrder Load (0.1ms)[0m   [0mSELECT `drug_order`.* FROM `drug_order` INNER JOIN orders ON drug_order.order_id = orders.order_id
 INNER JOIN encounter e ON e.encounter_id = orders.encounter_id WHERE (encounter_type = 25 AND drug_inventory_id = 3
 AND encounter_datetime >= '2011-10-26 00:00:00' AND encounter_datetime <= '2011-10-28 23:59:59') [0m
  [4;36;1mPharmacyEncounterType Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `pharmacy_encounter_type`[0m
  [4;35;1mPharmacyEncounterType Load (0.1ms)[0m   [0mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Load (0.1ms)[0m   [0;1mSELECT * FROM `pharmacy_obs` WHERE (drug_id=3 AND pharmacy_encounter_type=2) AND ((pharmacy_obs.voided = 0) AND (voided = 0)) ORDER BY encounter_date ASC,date_created ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Load (0.1ms)[0m   [0;1mSELECT SUM(value_numeric) total_delivered FROM `pharmacy_obs` WHERE (pharmacy_encounter_type = 2 AND drug_id = 3
 AND encounter_date >= '2011-10-27' AND encounter_date <= '2011-10-28') AND ((pharmacy_obs.voided = 0) AND (voided = 0)) GROUP BY drug_id LIMIT 1[0m
  [4;35;1mEncounterType Load (0.1ms)[0m   [0mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'DISPENSING') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mConceptName Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `concept_name`[0m
  [4;35;1mConceptName Load (0.1ms)[0m   [0mSELECT * FROM `concept_name` WHERE (`concept_name`.`name` = 'AMOUNT DISPENSED') AND (concept_name.voided = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mEncounter Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `encounter`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mObservation Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `obs`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mOrder Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mEncounter Load (0.1ms)[0m   [0mSELECT SUM(value_numeric) total_dispensed FROM `encounter` INNER JOIN obs USING(encounter_id) WHERE (concept_id = 2834 AND encounter_type = 54
 AND obs_datetime >= '2011-10-27 00:00:00' AND obs_datetime <= '2011-10-28 23:59:59' AND value_drug = 3) AND (encounter.voided = 0) GROUP BY value_drug LIMIT 1[0m
  [4;36;1mPharmacyEncounterType Load (0.1ms)[0m   [0;1mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'Tins removed') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mPharmacy Load (0.1ms)[0m   [0mSELECT SUM(value_numeric) total_removed FROM `pharmacy_obs` WHERE (pharmacy_encounter_type = 3 AND drug_id = 3
 AND encounter_date >= '2011-10-27' AND encounter_date <= '2011-10-28') AND ((pharmacy_obs.voided = 0) AND (voided = 0)) GROUP BY drug_id LIMIT 1[0m
  [4;36;1mEncounterType Load (0.1ms)[0m   [0;1mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'DISPENSING') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mConceptName Load (0.1ms)[0m   [0mSELECT * FROM `concept_name` WHERE (`concept_name`.`name` = 'AMOUNT DISPENSED') AND (concept_name.voided = 0) LIMIT 1[0m
  [4;36;1mEncounter Load (0.1ms)[0m   [0;1mSELECT SUM(value_numeric) total_dispensed FROM `encounter` INNER JOIN obs USING(encounter_id) WHERE (concept_id = 2834 AND encounter_type = 54
 AND obs_datetime >= '2011-10-26 00:00:00' AND obs_datetime <= '2011-10-28 23:59:59' AND value_drug = 3) AND (encounter.voided = 0) GROUP BY value_drug LIMIT 1[0m
  [4;35;1mEncounterType Load (0.1ms)[0m   [0mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'TREATMENT') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mDrugOrder Load (0.1ms)[0m   [0;1mSELECT `drug_order`.* FROM `drug_order` INNER JOIN orders ON drug_order.order_id = orders.order_id
 INNER JOIN encounter e ON e.encounter_id = orders.encounter_id WHERE (encounter_type = 25 AND drug_inventory_id = 5
 AND encounter_datetime >= '2011-10-26 00:00:00' AND encounter_datetime <= '2011-10-28 23:59:59') [0m
  [4;35;1mOrder Load (0.1ms)[0m   [0mSELECT * FROM `orders` WHERE (`orders`.`order_id` = 3) AND (orders.voided = 0) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mPharmacy Load (0.1ms)[0m   [0mSELECT * FROM `pharmacy_obs` WHERE (drug_id=5 AND pharmacy_encounter_type=2) AND ((pharmacy_obs.voided = 0) AND (voided = 0)) ORDER BY encounter_date ASC,date_created ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mPharmacy Load (0.1ms)[0m   [0mSELECT SUM(value_numeric) total_delivered FROM `pharmacy_obs` WHERE (pharmacy_encounter_type = 2 AND drug_id = 5
 AND encounter_date >= '2011-10-27' AND encounter_date <= '2011-10-28') AND ((pharmacy_obs.voided = 0) AND (voided = 0)) GROUP BY drug_id LIMIT 1[0m
  [4;36;1mEncounterType Load (0.1ms)[0m   [0;1mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'DISPENSING') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mConceptName Load (0.1ms)[0m   [0mSELECT * FROM `concept_name` WHERE (`concept_name`.`name` = 'AMOUNT DISPENSED') AND (concept_name.voided = 0) LIMIT 1[0m
  [4;36;1mEncounter Load (0.6ms)[0m   [0;1mSELECT SUM(value_numeric) total_dispensed FROM `encounter` INNER JOIN obs USING(encounter_id) WHERE (concept_id = 2834 AND encounter_type = 54
 AND obs_datetime >= '2011-10-27 00:00:00' AND obs_datetime <= '2011-10-28 23:59:59' AND value_drug = 5) AND (encounter.voided = 0) GROUP BY value_drug LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'Tins removed') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Load (0.2ms)[0m   [0;1mSELECT SUM(value_numeric) total_removed FROM `pharmacy_obs` WHERE (pharmacy_encounter_type = 3 AND drug_id = 5
 AND encounter_date >= '2011-10-27' AND encounter_date <= '2011-10-28') AND ((pharmacy_obs.voided = 0) AND (voided = 0)) GROUP BY drug_id LIMIT 1[0m
  [4;35;1mEncounterType Load (0.1ms)[0m   [0mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'DISPENSING') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mConceptName Load (0.1ms)[0m   [0;1mSELECT * FROM `concept_name` WHERE (`concept_name`.`name` = 'AMOUNT DISPENSED') AND (concept_name.voided = 0) LIMIT 1[0m
  [4;35;1mEncounter Load (0.1ms)[0m   [0mSELECT SUM(value_numeric) total_dispensed FROM `encounter` INNER JOIN obs USING(encounter_id) WHERE (concept_id = 2834 AND encounter_type = 54
 AND obs_datetime >= '2011-10-26 00:00:00' AND obs_datetime <= '2011-10-28 23:59:59' AND value_drug = 5) AND (encounter.voided = 0) GROUP BY value_drug LIMIT 1[0m
Rendering template within layouts/menu
Rendering drug/stock_report
Completed in 277ms (View: 17, DB: 8) | 200 OK [http://localhost/drug/stock_report]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DrugController#stock_report (for 127.0.0.1 at 2011-10-27 16:48:04) [POST]
  Parameters: {"start_date"=>"2011-10-26", "action"=>"stock_report", "authenticity_token"=>"7Nk9SE6++i0DBvf5zJtOTqGXJJJQYWqnBR6+pCjZfbY=", "controller"=>"drug", "end_date"=>"2011-10-28"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`user_id` = 1) AND (users.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mLocation Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `location`[0m
  [4;35;1mLocation Load (0.3ms)[0m   [0mSELECT * FROM `location` WHERE (`location`.`location_id` = 724) AND (location.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `pharmacy_obs`[0m
  [4;35;1mPharmacy Load (0.1ms)[0m   [0mSELECT * FROM `pharmacy_obs` WHERE ((pharmacy_obs.voided = 0) AND (voided = 0)) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrug Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `drug`[0m
  [4;35;1mDrug Load (0.1ms)[0m   [0mSELECT * FROM `drug` WHERE (drug_id IN (3,5)) AND (drug.retired = 0) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mEncounterType Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `encounter_type`[0m
  [4;35;1mEncounterType Load (0.2ms)[0m   [0mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'TREATMENT') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mDrugOrder Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `drug_order`[0m
  [4;35;1mDrugOrder Load (0.6ms)[0m   [0mSELECT `drug_order`.* FROM `drug_order` INNER JOIN orders ON drug_order.order_id = orders.order_id
 INNER JOIN encounter e ON e.encounter_id = orders.encounter_id WHERE (encounter_type = 25 AND drug_inventory_id = 3
 AND encounter_datetime >= '2011-10-26 00:00:00' AND encounter_datetime <= '2011-10-28 23:59:59') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mOrder Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mOrder Load (0.4ms)[0m   [0mSELECT * FROM `orders` WHERE (`orders`.`order_id` = 4) AND (orders.voided = 0) [0m
  [4;36;1mPharmacyEncounterType Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `pharmacy_encounter_type`[0m
  [4;35;1mPharmacyEncounterType Load (0.1ms)[0m   [0mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Load (0.1ms)[0m   [0;1mSELECT * FROM `pharmacy_obs` WHERE (drug_id=3 AND pharmacy_encounter_type=2) AND ((pharmacy_obs.voided = 0) AND (voided = 0)) ORDER BY encounter_date ASC,date_created ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Load (0.1ms)[0m   [0;1mSELECT SUM(value_numeric) total_delivered FROM `pharmacy_obs` WHERE (pharmacy_encounter_type = 2 AND drug_id = 3
 AND encounter_date >= '2011-10-27' AND encounter_date <= '2011-10-28') AND ((pharmacy_obs.voided = 0) AND (voided = 0)) GROUP BY drug_id LIMIT 1[0m
  [4;35;1mEncounterType Load (0.1ms)[0m   [0mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'DISPENSING') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mConceptName Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `concept_name`[0m
  [4;35;1mConceptName Load (0.2ms)[0m   [0mSELECT * FROM `concept_name` WHERE (`concept_name`.`name` = 'AMOUNT DISPENSED') AND (concept_name.voided = 0) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mEncounter Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `encounter`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mObservation Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `obs`[0m
  [4;36;1mEncounter Load (0.6ms)[0m   [0;1mSELECT SUM(value_numeric) total_dispensed FROM `encounter` INNER JOIN obs USING(encounter_id) WHERE (concept_id = 2834 AND encounter_type = 54
 AND obs_datetime >= '2011-10-27 00:00:00' AND obs_datetime <= '2011-10-28 23:59:59' AND value_drug = 3) AND (encounter.voided = 0) GROUP BY value_drug LIMIT 1[0m
  [4;35;1mPharmacyEncounterType Load (0.1ms)[0m   [0mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'Tins removed') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Load (0.1ms)[0m   [0;1mSELECT SUM(value_numeric) total_removed FROM `pharmacy_obs` WHERE (pharmacy_encounter_type = 3 AND drug_id = 3
 AND encounter_date >= '2011-10-27' AND encounter_date <= '2011-10-28') AND ((pharmacy_obs.voided = 0) AND (voided = 0)) GROUP BY drug_id LIMIT 1[0m
  [4;35;1mEncounterType Load (0.1ms)[0m   [0mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'DISPENSING') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mConceptName Load (0.1ms)[0m   [0;1mSELECT * FROM `concept_name` WHERE (`concept_name`.`name` = 'AMOUNT DISPENSED') AND (concept_name.voided = 0) LIMIT 1[0m
  [4;35;1mEncounter Load (0.6ms)[0m   [0mSELECT SUM(value_numeric) total_dispensed FROM `encounter` INNER JOIN obs USING(encounter_id) WHERE (concept_id = 2834 AND encounter_type = 54
 AND obs_datetime >= '2011-10-26 00:00:00' AND obs_datetime <= '2011-10-28 23:59:59' AND value_drug = 3) AND (encounter.voided = 0) GROUP BY value_drug LIMIT 1[0m
  [4;36;1mEncounterType Load (0.1ms)[0m   [0;1mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'TREATMENT') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mDrugOrder Load (0.6ms)[0m   [0mSELECT `drug_order`.* FROM `drug_order` INNER JOIN orders ON drug_order.order_id = orders.order_id
 INNER JOIN encounter e ON e.encounter_id = orders.encounter_id WHERE (encounter_type = 25 AND drug_inventory_id = 5
 AND encounter_datetime >= '2011-10-26 00:00:00' AND encounter_datetime <= '2011-10-28 23:59:59') [0m
  [4;36;1mOrder Load (0.4ms)[0m   [0;1mSELECT * FROM `orders` WHERE (`orders`.`order_id` = 3) AND (orders.voided = 0) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Load (0.1ms)[0m   [0;1mSELECT * FROM `pharmacy_obs` WHERE (drug_id=5 AND pharmacy_encounter_type=2) AND ((pharmacy_obs.voided = 0) AND (voided = 0)) ORDER BY encounter_date ASC,date_created ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'New deliveries') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mPharmacy Load (0.1ms)[0m   [0;1mSELECT SUM(value_numeric) total_delivered FROM `pharmacy_obs` WHERE (pharmacy_encounter_type = 2 AND drug_id = 5
 AND encounter_date >= '2011-10-27' AND encounter_date <= '2011-10-28') AND ((pharmacy_obs.voided = 0) AND (voided = 0)) GROUP BY drug_id LIMIT 1[0m
  [4;35;1mEncounterType Load (0.1ms)[0m   [0mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'DISPENSING') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;36;1mConceptName Load (0.1ms)[0m   [0;1mSELECT * FROM `concept_name` WHERE (`concept_name`.`name` = 'AMOUNT DISPENSED') AND (concept_name.voided = 0) LIMIT 1[0m
  [4;35;1mEncounter Load (0.5ms)[0m   [0mSELECT SUM(value_numeric) total_dispensed FROM `encounter` INNER JOIN obs USING(encounter_id) WHERE (concept_id = 2834 AND encounter_type = 54
 AND obs_datetime >= '2011-10-27 00:00:00' AND obs_datetime <= '2011-10-28 23:59:59' AND value_drug = 5) AND (encounter.voided = 0) GROUP BY value_drug LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `pharmacy_encounter_type` WHERE (`pharmacy_encounter_type`.`name` = 'Tins removed') AND (pharmacy_encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mPharmacy Load (0.1ms)[0m   [0mSELECT SUM(value_numeric) total_removed FROM `pharmacy_obs` WHERE (pharmacy_encounter_type = 3 AND drug_id = 5
 AND encounter_date >= '2011-10-27' AND encounter_date <= '2011-10-28') AND ((pharmacy_obs.voided = 0) AND (voided = 0)) GROUP BY drug_id LIMIT 1[0m
  [4;36;1mEncounterType Load (0.1ms)[0m   [0;1mSELECT * FROM `encounter_type` WHERE (`encounter_type`.`name` = 'DISPENSING') AND (encounter_type.retired = 0) LIMIT 1[0m
  [4;35;1mConceptName Load (0.1ms)[0m   [0mSELECT * FROM `concept_name` WHERE (`concept_name`.`name` = 'AMOUNT DISPENSED') AND (concept_name.voided = 0) LIMIT 1[0m
  [4;36;1mEncounter Load (0.5ms)[0m   [0;1mSELECT SUM(value_numeric) total_dispensed FROM `encounter` INNER JOIN obs USING(encounter_id) WHERE (concept_id = 2834 AND encounter_type = 54
 AND obs_datetime >= '2011-10-26 00:00:00' AND obs_datetime <= '2011-10-28 23:59:59' AND value_drug = 5) AND (encounter.voided = 0) GROUP BY value_drug LIMIT 1[0m
Rendering template within layouts/menu
Rendering drug/stock_report
Completed in 239ms (View: 2, DB: 3) | 200 OK [http://localhost/drug/stock_report]
